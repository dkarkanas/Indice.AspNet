function _createForOfIteratorHelper(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var n=0,c=function(){};return{s:c,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,l=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return r=e.done,e},e:function(e){l=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(l)throw o}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var i,n=_getPrototypeOf(e);if(t){var c=_getPrototypeOf(this).constructor;i=Reflect.construct(n,arguments,c)}else i=n.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{bRsv:function(e,t,i){"use strict";i.r(t),i.d(t,"ClientsModule",(function(){return zn}));var n=i("SVse"),c=i("s7LF"),o=i("G0yt"),r=i("hvj1"),l=i("PCNd"),s=i("iInd"),a=i("8Y7J"),u=i("onTr"),d=i("fQZA"),b=["clientsList"],f=["actionsTemplate"],m=["clientIdTemplate"];function p(e,t){1&e&&(a.Ub(0,"a",12),a.Ic(1," Edit "),a.Tb()),2&e&&a.oc("routerLink",t.value+"/details")}function g(e,t){1&e&&(a.Ub(0,"span",15),a.Ic(1," reserved "),a.Tb())}function h(e,t){if(1&e&&(a.Ub(0,"span",13),a.Ic(1),a.Tb(),a.Ic(2," \xa0 "),a.Gc(3,g,2,0,"span",14)),2&e){var i=t.row,n=t.value;a.oc("title",n),a.Bb(1),a.Jc(n),a.Bb(2),a.oc("ngIf",i.nonEditable)}}var v,T=((v=function(){function e(t){_classCallCheck(this,e),this._api=t,this.count=0,this.rows=[],this.columns=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.columns=[{prop:"clientId",name:"Client Id",draggable:!1,canAutoResize:!0,sortable:!0,resizeable:!1,cellTemplate:this._clientIdTemplate},{prop:"clientName",name:"Client Name",draggable:!1,canAutoResize:!0,sortable:!0,resizeable:!1},{prop:"enabled",name:"Enabled",draggable:!1,canAutoResize:!0,sortable:!0,resizeable:!1,cellTemplate:this._clientsList.booleanTemplate},{prop:"clientId",name:"Actions",draggable:!1,canAutoResize:!1,sortable:!1,resizeable:!1,cellTemplate:this._actionsTemplate,cellClass:"d-flex align-items-center"}]}},{key:"getClients",value:function(e){var t=this;this._api.getClients(e.page,e.pageSize,e.sortField,e.searchTerm).subscribe((function(e){t.count=e.count,t.rows=e.items}))}}]),e}()).\u0275fac=function(e){return new(e||v)(a.Ob(u.n))},v.\u0275cmp=a.Ib({type:v,selectors:[["app-clients"]],viewQuery:function(e,t){var i;1&e&&(a.Ec(b,!0),a.Ec(f,!0),a.Ec(m,!0)),2&e&&(a.wc(i=a.hc())&&(t._clientsList=i.first),a.wc(i=a.hc())&&(t._actionsTemplate=i.first),a.wc(i=a.hc())&&(t._clientIdTemplate=i.first))},decls:17,vars:8,consts:[[1,"row"],[1,"col-sm-12"],[1,"page-title-box"],[1,"row","align-items-center"],[1,"col-md-8"],[1,"page-title","m-0"],[1,"text-muted","font-14"],[1,"col-12"],[3,"clientSide","columns","rows","count","rowsPerPage","defaultSortField","defaultSortDirection","search"],["clientsList",""],["actionsTemplate",""],["clientIdTemplate",""],["href","#","role","button",1,"btn","btn-success",3,"routerLink"],[3,"title"],["class","badge badge-warning",4,"ngIf"],[1,"badge","badge-warning"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"div",3),a.Ub(4,"div",4),a.Ub(5,"h4",5),a.Ic(6),a.Tb(),a.Ub(7,"p",6),a.Ic(8," Get a list of all system clients. "),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(9,"div",0),a.Ub(10,"div",7),a.Ub(11,"app-list-view",8,9),a.gc("search",(function(e){return t.getClients(e)})),a.Tb(),a.Tb(),a.Tb(),a.Gc(13,p,2,1,"ng-template",null,10,a.Hc),a.Gc(15,h,4,3,"ng-template",null,11,a.Hc)),2&e&&(a.Bb(6),a.Kc("Clients List (",t.count,")"),a.Bb(5),a.oc("clientSide",!1)("columns",t.columns)("rows",t.rows)("count",t.count)("rowsPerPage",15)("defaultSortField","clientId")("defaultSortDirection","Asc"))},directives:[d.a,s.g,n.m],encapsulation:2}),v),y=i("NHP+"),U=function e(t,i,n,c,o){_classCallCheck(this,e),this.key=t,this.name=i,this.flowDescription=n,this.descriptionHtml=c,this.icon=o},k=i("wWpK"),C=i("2bU0"),I=i("xWML");function w(e,t){1&e&&(a.Ub(0,"div",27),a.Ic(1," Field 'Client Id' is required. "),a.Tb())}function _(e,t){1&e&&(a.Ub(0,"div",27),a.Ic(1," Field 'Client Name' is required. "),a.Tb())}var S,x=function(e){return{invalid:e}},R=((S=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this))._utilities=e,n}return _createClass(i,[{key:"ngOnInit",value:function(){}},{key:"generateName",value:function(){this.clientId.setValue(this._utilities.newGuid())}},{key:"isValid",value:function(){return this.clientId.valid&&this.clientName.valid&&this.clientUrl.valid&&this.logoUrl.valid&&this.description.valid&&this.requireConsent.valid}},{key:"clientId",get:function(){return this.data.form.get("clientId")}},{key:"clientName",get:function(){return this.data.form.get("clientName")}},{key:"clientUrl",get:function(){return this.data.form.get("clientUrl")}},{key:"logoUrl",get:function(){return this.data.form.get("logoUrl")}},{key:"description",get:function(){return this.data.form.get("description")}},{key:"requireConsent",get:function(){return this.data.form.get("requireConsent")}}]),i}(C.a)).\u0275fac=function(e){return new(e||S)(a.Ob(I.a))},S.\u0275cmp=a.Ib({type:S,selectors:[["app-extended-info-step"]],features:[a.yb],decls:51,vars:15,consts:[[3,"formGroup"],[1,"form-group","row"],["for","client-id",1,"col-sm-2","col-form-label"],["title","The unique identifier for this application.",1,"material-icons","align-middle"],[1,"col-sm-10"],[1,"input-group"],["title","Generate a random name.",1,"input-group-prepend","cursor-pointer",3,"click"],[1,"input-group-text"],[1,"material-icons","align-middle","font-12"],["type","text","id","client-id","name","client-id","required","","maxlength","200",1,"form-control",3,"ngClass","formControlName"],["class","form-control-feedback text-danger",4,"ngIf"],["for","client-name",1,"col-sm-2","col-form-label"],["title","Application name that will be seen on consent screens.",1,"material-icons","align-middle"],["type","text","id","client-name","name","client-name","required","","maxlength","200",1,"form-control",3,"ngClass","formControlName"],["for","require-consent",1,"col-sm-2","col-form-label"],["title","Specifies whether a consent screen is required.",1,"material-icons","align-middle"],[1,"form-check","col-form-label","custom-control","custom-checkbox"],["type","checkbox","id","require-consent","name","require-consent",1,"form-check-input","custom-control-input",3,"formControlName"],["for","require-consent",1,"custom-control-label"],["for","client-url",1,"col-sm-2","col-form-label"],["title","Application URL that will be seen on consent screens.",1,"material-icons","align-middle"],["type","text","id","client-url","name","client-url",1,"form-control",3,"formControlName"],["for","logo-url",1,"col-sm-2","col-form-label"],["title","Application logo that will be seen on consent screens. These protocols rely upon TLS in production.",1,"material-icons","align-middle"],["type","text","id","logo-url","name","logo-url",1,"form-control",3,"formControlName"],["for","description",1,"col-sm-2","col-form-label"],["rows","3","type","text","id","description","name","description",1,"form-control",3,"formControlName"],[1,"form-control-feedback","text-danger"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"label",2),a.Ub(3,"i",3),a.Ic(4," info "),a.Tb(),a.Ic(5," Client Id (*) "),a.Tb(),a.Ub(6,"div",4),a.Ub(7,"div",5),a.Ub(8,"span",6),a.gc("click",(function(){return t.generateName()})),a.Ub(9,"span",7),a.Ub(10,"i",8),a.Ic(11,"add"),a.Tb(),a.Tb(),a.Tb(),a.Pb(12,"input",9),a.Tb(),a.Gc(13,w,2,0,"div",10),a.Tb(),a.Tb(),a.Ub(14,"div",1),a.Ub(15,"label",11),a.Ub(16,"i",12),a.Ic(17," info "),a.Tb(),a.Ic(18," Client Name (*) "),a.Tb(),a.Ub(19,"div",4),a.Pb(20,"input",13),a.Gc(21,_,2,0,"div",10),a.Tb(),a.Tb(),a.Ub(22,"div",1),a.Ub(23,"label",14),a.Ub(24,"i",15),a.Ic(25," info "),a.Tb(),a.Ic(26," Require Consent "),a.Tb(),a.Ub(27,"div",4),a.Ub(28,"div",16),a.Pb(29,"input",17),a.Pb(30,"label",18),a.Tb(),a.Tb(),a.Tb(),a.Ub(31,"div",1),a.Ub(32,"label",19),a.Ub(33,"i",20),a.Ic(34," info "),a.Tb(),a.Ic(35," Client URL "),a.Tb(),a.Ub(36,"div",4),a.Pb(37,"input",21),a.Tb(),a.Tb(),a.Ub(38,"div",1),a.Ub(39,"label",22),a.Ub(40,"i",23),a.Ic(41," info "),a.Tb(),a.Ic(42," Logo URL "),a.Tb(),a.Ub(43,"div",4),a.Pb(44,"input",24),a.Tb(),a.Tb(),a.Ub(45,"div",1),a.Ub(46,"label",25),a.Ic(47," Description "),a.Tb(),a.Ub(48,"div",4),a.Ub(49,"textarea",26),a.Ic(50,"            "),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&e&&(a.oc("formGroup",t.data.form),a.Bb(12),a.oc("ngClass",a.sc(11,x,t.hostFormValidated&&t.clientId.invalid))("formControlName","clientId"),a.Bb(1),a.oc("ngIf",t.hostFormValidated&&t.clientId.invalid),a.Bb(7),a.oc("ngClass",a.sc(13,x,t.hostFormValidated&&t.clientName.invalid))("formControlName","clientName"),a.Bb(1),a.oc("ngIf",t.hostFormValidated&&t.clientName.invalid),a.Bb(8),a.oc("formControlName","requireConsent"),a.Bb(8),a.oc("formControlName","clientUrl"),a.Bb(7),a.oc("formControlName","logoUrl"),a.Bb(5),a.oc("formControlName","description"))},directives:[c.n,c.h,c.b,c.u,c.j,n.k,c.m,c.f,n.m,c.a],encapsulation:2}),S);function L(e,t){1&e&&(a.Ub(0,"div",16),a.Ic(1," Field 'Client Id' is required. "),a.Tb())}function M(e,t){1&e&&(a.Ub(0,"div",16),a.Ic(1," Field 'Client Name' is required. "),a.Tb())}var A,B=function(e){return{invalid:e}},O=((A=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this))._utilities=e,n}return _createClass(i,[{key:"ngOnInit",value:function(){}},{key:"generateName",value:function(){this.clientId.setValue(this._utilities.newGuid())}},{key:"isValid",value:function(){return this.clientId.valid&&this.clientName.valid&&this.description.valid}},{key:"clientId",get:function(){return this.data.form.get("clientId")}},{key:"clientName",get:function(){return this.data.form.get("clientName")}},{key:"description",get:function(){return this.data.form.get("description")}}]),i}(C.a)).\u0275fac=function(e){return new(e||A)(a.Ob(I.a))},A.\u0275cmp=a.Ib({type:A,selectors:[["app-basic-info-step"]],features:[a.yb],decls:28,vars:12,consts:[[3,"formGroup"],[1,"form-group","row"],["for","client-id",1,"col-sm-2","col-form-label"],["title","The unique identifier for this application.",1,"material-icons","align-middle"],[1,"col-sm-10"],[1,"input-group"],["title","Generate a random name.",1,"input-group-prepend","cursor-pointer",3,"click"],[1,"input-group-text"],[1,"material-icons","align-middle","font-12"],["type","text","id","client-id","name","client-id","required","","maxlength","200",1,"form-control",3,"ngClass","formControlName"],["class","form-control-feedback text-danger",4,"ngIf"],["for","client-name",1,"col-sm-2","col-form-label"],["title","Application name that will be seen on consent screens.",1,"material-icons","align-middle"],["type","text","id","client-name","name","client-name","required","","maxlength","200",1,"form-control",3,"ngClass","formControlName"],["for","description",1,"col-sm-2","col-form-label"],["rows","3","type","text","id","description","name","description",1,"form-control",3,"formControlName"],[1,"form-control-feedback","text-danger"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"label",2),a.Ub(3,"i",3),a.Ic(4," info "),a.Tb(),a.Ic(5," Client Id (*) "),a.Tb(),a.Ub(6,"div",4),a.Ub(7,"div",5),a.Ub(8,"span",6),a.gc("click",(function(){return t.generateName()})),a.Ub(9,"span",7),a.Ub(10,"i",8),a.Ic(11,"add"),a.Tb(),a.Tb(),a.Tb(),a.Pb(12,"input",9),a.Tb(),a.Gc(13,L,2,0,"div",10),a.Tb(),a.Tb(),a.Ub(14,"div",1),a.Ub(15,"label",11),a.Ub(16,"i",12),a.Ic(17," info "),a.Tb(),a.Ic(18," Client Name (*) "),a.Tb(),a.Ub(19,"div",4),a.Pb(20,"input",13),a.Gc(21,M,2,0,"div",10),a.Tb(),a.Tb(),a.Ub(22,"div",1),a.Ub(23,"label",14),a.Ic(24," Description "),a.Tb(),a.Ub(25,"div",4),a.Ub(26,"textarea",15),a.Ic(27,"            "),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&e&&(a.oc("formGroup",t.data.form),a.Bb(12),a.oc("ngClass",a.sc(8,B,t.hostFormValidated&&t.clientId.invalid))("formControlName","clientId"),a.Bb(1),a.oc("ngIf",t.hostFormValidated&&t.clientId.invalid),a.Bb(7),a.oc("ngClass",a.sc(10,B,t.hostFormValidated&&t.clientName.invalid))("formControlName","clientName"),a.Bb(1),a.oc("ngIf",t.hostFormValidated&&t.clientName.invalid),a.Bb(5),a.oc("formControlName","description"))},directives:[c.n,c.h,c.b,c.u,c.j,n.k,c.m,c.f,n.m],encapsulation:2}),A);function z(e,t){1&e&&(a.Ub(0,"div",11),a.Ic(1," Field 'Callback URL' is required. "),a.Tb())}function P(e,t){1&e&&(a.Ub(0,"div",11),a.Ic(1," Please enter a valid URL. "),a.Tb())}function G(e,t){1&e&&(a.Ub(0,"div",11),a.Ic(1," Please enter a valid URL. "),a.Tb())}var V,q=function(e){return{invalid:e}},D=((V=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.call(this)}return _createClass(i,[{key:"ngOnInit",value:function(){}},{key:"isValid",value:function(){return this.callbackUrl.valid&&this.postLogoutUrl.valid}},{key:"callbackUrl",get:function(){return this.data.form.get("callbackUrl")}},{key:"postLogoutUrl",get:function(){return this.data.form.get("postLogoutUrl")}}]),i}(C.a)).\u0275fac=function(e){return new(e||V)},V.\u0275cmp=a.Ib({type:V,selectors:[["app-urls-step"]],features:[a.yb],decls:22,vars:12,consts:[[3,"formGroup"],[1,"form-group","row"],["for","callback-url",1,"col-sm-2","col-form-label"],["title","Full path of redirect URL. These protocols rely upon TLS in production.",1,"material-icons","align-middle"],[1,"col-sm-10"],["type","text","id","callback-url","name","callback-url","required","","pattern","^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$","maxlength","2000",1,"form-control",3,"ngClass","formControlName"],[1,"text-muted"],["class","form-control-feedback text-danger",4,"ngIf"],["for","post-logout-url",1,"col-sm-2","col-form-label"],["title","Users can be returned to this URL after logout. These protocols rely upon TLS in production.",1,"material-icons","align-middle"],["type","text","id","post-logout-url","name","post-logout-url","pattern","^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\(\\)\\*\\+,;=.]+$","maxlength","2000",1,"form-control",3,"ngClass","formControlName"],[1,"form-control-feedback","text-danger"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"label",2),a.Ub(3,"i",3),a.Ic(4," info "),a.Tb(),a.Ic(5," Callback URL (*) "),a.Tb(),a.Ub(6,"div",4),a.Pb(7,"input",5),a.Ub(8,"div",6),a.Ic(9," Tokens will be sent to this endpoint (you can configure more after initial setup). "),a.Tb(),a.Gc(10,z,2,0,"div",7),a.Gc(11,P,2,0,"div",7),a.Tb(),a.Tb(),a.Ub(12,"div",1),a.Ub(13,"label",8),a.Ub(14,"i",9),a.Ic(15," info "),a.Tb(),a.Ic(16," Post-logout URL "),a.Tb(),a.Ub(17,"div",4),a.Pb(18,"input",10),a.Ub(19,"div",6),a.Ic(20,"Optional (you can configure more after initial setup)."),a.Tb(),a.Gc(21,G,2,0,"div",7),a.Tb(),a.Tb(),a.Tb()),2&e&&(a.oc("formGroup",t.data.form),a.Bb(7),a.oc("ngClass",a.sc(8,q,t.hostFormValidated&&t.callbackUrl.invalid))("formControlName","callbackUrl"),a.Bb(3),a.oc("ngIf",t.hostFormValidated&&t.callbackUrl.invalid&&t.callbackUrl.errors.required),a.Bb(1),a.oc("ngIf",t.hostFormValidated&&t.callbackUrl.invalid&&t.callbackUrl.errors.pattern),a.Bb(7),a.oc("ngClass",a.sc(10,q,t.hostFormValidated&&t.postLogoutUrl.invalid))("formControlName","postLogoutUrl"),a.Bb(3),a.oc("ngIf",t.hostFormValidated&&t.postLogoutUrl.invalid&&t.postLogoutUrl.errors.pattern))},directives:[c.n,c.h,c.b,c.u,c.s,c.j,n.k,c.m,c.f,n.m],encapsulation:2}),V),N=i("8xOu");function F(e,t){1&e&&(a.Ub(0,"p"),a.Ic(1,"Loading identity resources..."),a.Tb())}var j=function(){return{sourceListTitle:"Available Resources",emptySourceListMessage:"There are no available resources to assign.",destinationListTitle:"Assigned Resources",emptyDestinationListMessage:"There are no resources assigned to this client."}};function E(e,t){if(1&e){var i=a.Vb();a.Ub(0,"app-transfer-lists",2,3),a.gc("itemAdded",(function(e){return a.zc(i),a.ic().addResource(e)}))("itemRemoved",(function(e){return a.zc(i),a.ic().removeResource(e)})),a.Tb()}if(2&e){var n=a.ic();a.oc("source",n.availableResources)("destination",n.selectedResources)("titlePropertyName","name")("subtitlePropertyName","description")("options",a.rc(5,j))}}var H,K=((H=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this))._wizardService=e,n.availableResources=[],n.selectedResources=[],n}return _createClass(i,[{key:"ngOnInit",value:function(){var e=this;this._wizardService.getIdentityResources().subscribe((function(t){e._selectedResourcesControl=e.data.form.controls.identityResources,e.availableResources=t.filter((function(t){return!e._selectedResourcesControl.value.includes(t.name)})),e.selectedResources=t.filter((function(t){return e._selectedResourcesControl.value.includes(t.name)}))}))}},{key:"addResource",value:function(e){var t=this._selectedResourcesControl.value;t.push(e.name),this._selectedResourcesControl.setValue(t)}},{key:"removeResource",value:function(e){var t=this._selectedResourcesControl.value,i=t.indexOf(e.name,0);i>-1&&t.splice(i,1),this._selectedResourcesControl.setValue(t)}},{key:"isValid",value:function(){return this.data.form.controls.identityResources.value.length>0}}]),i}(C.a)).\u0275fac=function(e){return new(e||H)(a.Ob(Ie))},H.\u0275cmp=a.Ib({type:H,selectors:[["app-identity-resources-step"]],features:[a.yb],decls:2,vars:2,consts:[[4,"ngIf"],[3,"source","destination","titlePropertyName","subtitlePropertyName","options","itemAdded","itemRemoved",4,"ngIf"],[3,"source","destination","titlePropertyName","subtitlePropertyName","options","itemAdded","itemRemoved"],["transferList",""]],template:function(e,t){1&e&&(a.Gc(0,F,2,0,"p",0),a.Gc(1,E,2,6,"app-transfer-lists",1)),2&e&&(a.oc("ngIf",!t.availableResources),a.Bb(1),a.oc("ngIf",t.availableResources))},directives:[n.m,N.a],encapsulation:2}),H);function J(e,t){1&e&&(a.Ub(0,"p"),a.Ic(1,"Loading identity resources..."),a.Tb())}var W=function(){return{sourceListTitle:"Available Resources",emptySourceListMessage:"There are no available resources to assign.",destinationListTitle:"Assigned Resources",emptyDestinationListMessage:"There are no resources assigned to this client."}};function Q(e,t){if(1&e){var i=a.Vb();a.Ub(0,"app-transfer-lists",2,3),a.gc("itemAdded",(function(e){return a.zc(i),a.ic().addResource(e)}))("itemRemoved",(function(e){return a.zc(i),a.ic().removeResource(e)})),a.Tb()}if(2&e){var n=a.ic();a.oc("source",n.availableResources)("destination",n.selectedResources)("titlePropertyName","name")("subtitlePropertyName","description")("options",a.rc(5,W))}}var $,X=(($=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this))._wizardService=e,n.availableResources=[],n.selectedResources=[],n}return _createClass(i,[{key:"ngOnInit",value:function(){var e=this;this._wizardService.getApiResources().subscribe((function(t){e._selectedResourcesControl=e.data.form.controls.apiResources,e.availableResources=t.filter((function(t){return!e._selectedResourcesControl.value.includes(t.name)})),e.selectedResources=t.filter((function(t){return e._selectedResourcesControl.value.includes(t.name)}))}))}},{key:"addResource",value:function(e){var t=this._selectedResourcesControl.value;t.push(e.name),this._selectedResourcesControl.setValue(t)}},{key:"removeResource",value:function(e){var t=this._selectedResourcesControl.value,i=t.indexOf(e.name,0);i>-1&&t.splice(i,1),this._selectedResourcesControl.setValue(t)}},{key:"isValid",value:function(){return!0}}]),i}(C.a)).\u0275fac=function(e){return new(e||$)(a.Ob(Ie))},$.\u0275cmp=a.Ib({type:$,selectors:[["app-api-resources-step"]],features:[a.yb],decls:2,vars:2,consts:[[4,"ngIf"],[3,"source","destination","titlePropertyName","subtitlePropertyName","options","itemAdded","itemRemoved",4,"ngIf"],[3,"source","destination","titlePropertyName","subtitlePropertyName","options","itemAdded","itemRemoved"],["transferList",""]],template:function(e,t){1&e&&(a.Gc(0,J,2,0,"p",0),a.Gc(1,Q,2,6,"app-transfer-lists",1)),2&e&&(a.oc("ngIf",!t.availableResources),a.Bb(1),a.oc("ngIf",t.availableResources))},directives:[n.m,N.a],encapsulation:2}),$),Y=i("1uCz");function Z(e,t){if(1&e&&(a.Ub(0,"div",1),a.Ub(1,"label",2),a.Ic(2," Client URI "),a.Tb(),a.Ub(3,"div",3),a.Ub(4,"span",9),a.Ic(5),a.Tb(),a.Tb(),a.Tb()),2&e){var i=a.ic();a.Bb(5),a.Kc(" ",i.summary.clientUri," ")}}function ee(e,t){if(1&e&&(a.Ub(0,"div",1),a.Ub(1,"label",2),a.Ic(2," Logo URI "),a.Tb(),a.Ub(3,"div",3),a.Ub(4,"span",10),a.Ic(5),a.Tb(),a.Tb(),a.Tb()),2&e){var i=a.ic();a.Bb(5),a.Kc(" ",i.summary.logoUri," ")}}function te(e,t){if(1&e&&(a.Ub(0,"div",1),a.Ub(1,"label",2),a.Ic(2," Callback URL "),a.Tb(),a.Ub(3,"div",3),a.Ub(4,"span",11),a.Ic(5),a.Tb(),a.Tb(),a.Tb()),2&e){var i=a.ic();a.Bb(5),a.Kc(" ",i.summary.redirectUri," ")}}function ie(e,t){if(1&e&&(a.Ub(0,"div",1),a.Ub(1,"label",2),a.Ic(2," Post Logout URL "),a.Tb(),a.Ub(3,"div",3),a.Ub(4,"span",12),a.Ic(5),a.Tb(),a.Tb(),a.Tb()),2&e){var i=a.ic();a.Bb(5),a.Kc(" ",i.summary.postLogoutRedirectUri," ")}}function ne(e,t){if(1&e&&(a.Ub(0,"div",1),a.Ub(1,"label",2),a.Ic(2," Secrets "),a.Tb(),a.Ub(3,"div",3),a.Ub(4,"span",13),a.Ic(5),a.Tb(),a.Tb(),a.Tb()),2&e){var i=a.ic();a.Bb(5),a.Kc(" ",i.summary.secrets.length," configured secrets. ")}}function ce(e,t){if(1&e&&(a.Ub(0,"h6",15),a.Ub(1,"span",16),a.Ic(2),a.Tb(),a.Tb()),2&e){var i=t.$implicit;a.Bb(2),a.Kc(" ",i," ")}}function oe(e,t){if(1&e&&(a.Ub(0,"div",1),a.Ub(1,"label",2),a.Ic(2," Identity Resources "),a.Tb(),a.Ub(3,"div",3),a.Gc(4,ce,3,1,"h6",14),a.Tb(),a.Tb()),2&e){var i=a.ic();a.Bb(4),a.oc("ngForOf",i.summary.identityResources)}}function re(e,t){if(1&e&&(a.Ub(0,"h6",15),a.Ub(1,"span",16),a.Ic(2),a.Tb(),a.Tb()),2&e){var i=t.$implicit;a.Bb(2),a.Kc(" ",i," ")}}function le(e,t){if(1&e&&(a.Ub(0,"div",1),a.Ub(1,"label",2),a.Ic(2," API Resources "),a.Tb(),a.Ub(3,"div",3),a.Gc(4,re,3,1,"h6",14),a.Tb(),a.Tb()),2&e){var i=a.ic();a.Bb(4),a.oc("ngForOf",i.summary.apiResources)}}var se,ae=((se=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this))._toast=e,n.summary=new u.h,n}return _createClass(i,[{key:"ngOnInit",value:function(){var e=this.data.form;this.summary={clientType:e.get("clientType").value,clientId:e.get("clientId").value,clientName:e.get("clientName").value,requireConsent:e.get("requireConsent").value,clientUri:e.get("clientUrl").value,logoUri:e.get("logoUrl").value,description:e.get("description").value,redirectUri:e.get("callbackUrl").value,postLogoutRedirectUri:e.get("postLogoutUrl").value,identityResources:e.get("identityResources").value,apiResources:e.get("apiResources").value,secrets:e.get("secrets").value}}},{key:"isValid",value:function(){return!0}}]),i}(C.a)).\u0275fac=function(e){return new(e||se)(a.Ob(Y.a))},se.\u0275cmp=a.Ib({type:se,selectors:[["app-summary-step"]],features:[a.yb],decls:32,vars:11,consts:[["novalidate",""],[1,"form-group","row"],[1,"col-sm-2","col-form-label"],[1,"col-sm-10","col-form-label"],["id","client-id","name","client-id",1,"col-form-label"],["id","client-name","name","client-name",1,"col-form-label"],["id","client-require-consent","name","client-require-consent",1,"col-form-label"],["class","form-group row",4,"ngIf"],["id","client-description","name","client-description",1,"col-form-label"],["id","client-uri","name","client-uri",1,"col-form-label"],["id","client-logo-uri","name","client-logo-uri",1,"col-form-label"],["id","client-callback-url","name","client-callback-url",1,"col-form-label"],["id","client-post-logout-redirect-uri","name","client-post-logout-redirect-uri",1,"col-form-label"],["id","client-secrets","name","client-secrets",1,"col-form-label"],["class","d-inline-block mt-0",4,"ngFor","ngForOf"],[1,"d-inline-block","mt-0"],[1,"badge","badge-warning","mr-1"]],template:function(e,t){1&e&&(a.Ub(0,"form",0),a.Ub(1,"div",1),a.Ub(2,"label",2),a.Ic(3," Client Id "),a.Tb(),a.Ub(4,"div",3),a.Ub(5,"span",4),a.Ic(6),a.Tb(),a.Tb(),a.Tb(),a.Ub(7,"div",1),a.Ub(8,"label",2),a.Ic(9," Client Name "),a.Tb(),a.Ub(10,"div",3),a.Ub(11,"span",5),a.Ic(12),a.Tb(),a.Tb(),a.Tb(),a.Ub(13,"div",1),a.Ub(14,"label",2),a.Ic(15," Require Consent "),a.Tb(),a.Ub(16,"div",3),a.Ub(17,"span",6),a.Ic(18),a.Tb(),a.Tb(),a.Tb(),a.Gc(19,Z,6,1,"div",7),a.Gc(20,ee,6,1,"div",7),a.Ub(21,"div",1),a.Ub(22,"label",2),a.Ic(23," Description "),a.Tb(),a.Ub(24,"div",3),a.Ub(25,"span",8),a.Ic(26),a.Tb(),a.Tb(),a.Tb(),a.Gc(27,te,6,1,"div",7),a.Gc(28,ie,6,1,"div",7),a.Gc(29,ne,6,1,"div",7),a.Gc(30,oe,5,1,"div",7),a.Gc(31,le,5,1,"div",7),a.Tb()),2&e&&(a.Bb(6),a.Kc(" ",t.summary.clientId?t.summary.clientId:"-"," "),a.Bb(6),a.Kc(" ",t.summary.clientName?t.summary.clientName:"-"," "),a.Bb(6),a.Kc(" ",t.summary.requireConsent?"Yes":"No"," "),a.Bb(1),a.oc("ngIf",t.summary.clientUri),a.Bb(1),a.oc("ngIf",t.summary.logoUri),a.Bb(6),a.Kc(" ",t.summary.description?t.summary.description:"-"," "),a.Bb(1),a.oc("ngIf",t.summary.redirectUri),a.Bb(1),a.oc("ngIf",t.summary.postLogoutRedirectUri),a.Bb(1),a.oc("ngIf",t.summary.secrets&&"Machine"===t.summary.clientType),a.Bb(1),a.oc("ngIf",t.summary.identityResources),a.Bb(1),a.oc("ngIf",t.summary.apiResources))},directives:[c.y,c.n,c.o,n.m,n.l],encapsulation:2}),se),ue=["actionsTemplate"],de=["optionalTemplate"],be=["clientSecretsList"];function fe(e,t){1&e&&(a.Ub(0,"div",28),a.Ic(1," Field 'Type' is required. "),a.Tb())}function me(e,t){if(1&e){var i=a.Vb();a.Ub(0,"span",29),a.gc("click",(function(){return a.zc(i),a.ic().generateValue()})),a.Ub(1,"span",30),a.Ub(2,"i",31),a.Ic(3,"add"),a.Tb(),a.Tb(),a.Tb()}}function pe(e,t){1&e&&(a.Ub(0,"div",28),a.Ic(1," Field 'Value' is required. "),a.Tb())}function ge(e,t){if(1&e){var i=a.Vb();a.Ub(0,"button",32),a.gc("click",(function(){a.zc(i);var e=t.row;return a.ic().removeClientSecret(e)})),a.Ic(1," Remove "),a.Tb()}}function he(e,t){if(1&e&&(a.Ub(0,"span"),a.Ic(1),a.Tb()),2&e){var i=a.ic().value;a.Bb(1),a.Jc(i)}}function ve(e,t){1&e&&(a.Ub(0,"span"),a.Ic(1," - "),a.Tb())}function Te(e,t){if(1&e&&(a.Gc(0,he,2,1,"span",33),a.Gc(1,ve,2,0,"span",33)),2&e){var i=t.value;a.oc("ngIf",i),a.Bb(1),a.oc("ngIf",!i)}}var ye,Ue,ke=function(e){return{invalid:e}},Ce=((Ue=function(e){_inherits(i,e);var t=_createSuper(i);function i(e){var n;return _classCallCheck(this,i),(n=t.call(this))._utilities=e,n.columns=[],n.rows=[],n.clientSecret=new u.k({type:u.p.SharedSecret}),n}return _createClass(i,[{key:"ngOnInit",value:function(){this._initialSecrets=this.data.form.get("secrets").value,this.columns=[{prop:"type",name:"Type",draggable:!1,canAutoResize:!0,sortable:!1,resizeable:!1},{prop:"valueText",name:"Value",draggable:!1,canAutoResize:!0,sortable:!1,resizeable:!1},{prop:"expiration",name:"Expiration",draggable:!1,canAutoResize:!0,sortable:!1,resizeable:!1,cellTemplate:this._clientSecretsList.dateTimeTemplate,cellClass:"d-flex align-items-center"},{prop:"description",name:"Description",draggable:!1,canAutoResize:!0,sortable:!1,resizeable:!1,cellTemplate:this._optionalTemplate,cellClass:"d-flex align-items-center"},{prop:"value",name:"Actions",draggable:!1,canAutoResize:!0,sortable:!1,resizeable:!1,cellTemplate:this._actionsTemplate,cellClass:"d-flex align-items-center"}],this._initialSecrets.length>0&&(this.rows=this._initialSecrets)}},{key:"addClientSecret",value:function(){if(this.formValidated.emit(!0),this.clientSecret.type&&this.clientSecret.value){var e=this.clientSecret.expiration;this.clientSecret.expiration=e?new Date(e.year,e.month-1,e.day):void 0,this.clientSecret.valueText="Value is hidden",this.rows.push(this.clientSecret),this.rows=_toConsumableArray(this.rows),this.data.form.get("secrets").setValue(this.rows),this.formValidated.emit(!1),this.clientSecret=new u.k({type:u.p.SharedSecret})}}},{key:"removeClientSecret",value:function(e){var t=this.rows.findIndex((function(t){return t.value===e.value}));t>=-1&&(this.rows.splice(t,1),this.rows=_toConsumableArray(this.rows))}},{key:"generateValue",value:function(){this.clientSecret.value=this._utilities.newGuid()}},{key:"isValid",value:function(){return!0}}]),i}(C.a)).\u0275fac=function(e){return new(e||Ue)(a.Ob(I.a))},Ue.\u0275cmp=a.Ib({type:Ue,selectors:[["app-secrets-step"]],viewQuery:function(e,t){var i;1&e&&(a.Ec(ue,!0),a.Ec(de,!0),a.Ec(be,!0)),2&e&&(a.wc(i=a.hc())&&(t._actionsTemplate=i.first),a.wc(i=a.hc())&&(t._optionalTemplate=i.first),a.wc(i=a.hc())&&(t._clientSecretsList=i.first))},features:[a.yb],decls:49,vars:19,consts:[[1,"form-group","row"],["for","client-secret-type",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["id","client-secret-type","name","client-secret-type","required","",1,"form-control","custom-select",3,"ngClass","ngModel","ngModelChange"],["secret","ngModel"],["value","SharedSecret"],["value","X509Thumbprint"],["class","form-control-feedback text-danger",4,"ngIf"],["for","client-secret-value",1,"col-sm-2","col-form-label"],[1,"input-group"],["class","input-group-prepend cursor-pointer","title","Generate a random value.",3,"click",4,"ngIf"],["type","text","id","client-secret-value","name","client-secret-value","required","","maxlength","4000",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["value","ngModel"],[1,"text-muted"],["for","expiration-date",1,"col-sm-2","col-form-label"],["type","text","id","expiration-date","name","expiration-date","placeholder","mm-dd-yyyy","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange","focus"],["datePicker","ngbDatepicker"],["for","description",1,"col-sm-2","col-form-label"],["rows","3","type","text","id","description","name","description","maxlength","2000",1,"form-control",3,"ngModel","ngModelChange"],["description","ngModel"],[1,"form-group"],["type","submit",1,"btn","btn-primary","m-r-5",3,"click"],[1,"mt-3","mb-3"],[1,"col-12"],[3,"clientSide","rowsPerPage","canFilter","columns","rows","defaultSortDirection"],["clientSecretsList",""],["actionsTemplate",""],["optionalTemplate",""],[1,"form-control-feedback","text-danger"],["title","Generate a random value.",1,"input-group-prepend","cursor-pointer",3,"click"],[1,"input-group-text"],[1,"material-icons","align-middle","font-12"],["role","button",1,"btn","btn-danger",3,"click"],[4,"ngIf"]],template:function(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",0),a.Ub(1,"label",1),a.Ic(2," Type (*) "),a.Tb(),a.Ub(3,"div",2),a.Ub(4,"select",3,4),a.gc("ngModelChange",(function(e){return t.clientSecret.type=e})),a.Ub(6,"option",5),a.Ic(7,"Shared Secret"),a.Tb(),a.Ub(8,"option",6),a.Ic(9,"X509 Thumbprint"),a.Tb(),a.Tb(),a.Gc(10,fe,2,0,"div",7),a.Tb(),a.Tb(),a.Ub(11,"div",0),a.Ub(12,"label",8),a.Ic(13," Value (*) "),a.Tb(),a.Ub(14,"div",2),a.Ub(15,"div",9),a.Gc(16,me,4,0,"span",10),a.Ub(17,"input",11,12),a.gc("ngModelChange",(function(e){return t.clientSecret.value=e})),a.Tb(),a.Tb(),a.Ub(19,"div",13),a.Ic(20,"* You will not be able to access the value after adding it."),a.Tb(),a.Gc(21,pe,2,0,"div",7),a.Tb(),a.Tb(),a.Ub(22,"div",0),a.Ub(23,"label",14),a.Ic(24," Expiration Date "),a.Tb(),a.Ub(25,"div",2),a.Ub(26,"input",15,16),a.gc("ngModelChange",(function(e){return t.clientSecret.expiration=e}))("focus",(function(){return a.zc(i),a.xc(27).toggle()})),a.Tb(),a.Tb(),a.Tb(),a.Ub(28,"div",0),a.Ub(29,"label",17),a.Ic(30," Description "),a.Tb(),a.Ub(31,"div",2),a.Ub(32,"textarea",18,19),a.gc("ngModelChange",(function(e){return t.clientSecret.description=e})),a.Ic(34,"        "),a.Tb(),a.Tb(),a.Tb(),a.Ub(35,"div",20),a.Ub(36,"div"),a.Ub(37,"button",21),a.gc("click",(function(){return t.addClientSecret()})),a.Ic(38," Add "),a.Tb(),a.Tb(),a.Tb(),a.Pb(39,"hr"),a.Ub(40,"div",22),a.Ub(41,"div",23),a.Pb(42,"app-list-view",24,25),a.Tb(),a.Gc(44,ge,2,0,"ng-template",null,26,a.Hc),a.Gc(46,Te,2,2,"ng-template",null,27,a.Hc),a.Tb(),a.Pb(48,"hr")}if(2&e){var n=a.xc(5),c=a.xc(18);a.Bb(4),a.oc("ngClass",a.sc(15,ke,t.hostFormValidated&&n.invalid))("ngModel",t.clientSecret.type),a.Bb(6),a.oc("ngIf",t.hostFormValidated&&n.invalid),a.Bb(6),a.oc("ngIf","SharedSecret"===t.clientSecret.type),a.Bb(1),a.oc("ngClass",a.sc(17,ke,t.hostFormValidated&&c.invalid))("ngModel",t.clientSecret.value),a.Bb(4),a.oc("ngIf",t.hostFormValidated&&c.invalid),a.Bb(5),a.oc("ngModel",t.clientSecret.expiration),a.Bb(6),a.oc("ngModel",t.clientSecret.description),a.Bb(10),a.oc("clientSide",!0)("rowsPerPage",10)("canFilter",!1)("columns",t.columns)("rows",t.rows)("defaultSortDirection","Asc")}},directives:[c.v,c.u,n.k,c.m,c.p,c.q,c.x,n.m,c.b,c.j,o.h,d.a],encapsulation:2}),Ue),Ie=((ye=function(){function e(t){_classCallCheck(this,e),this._api=t,this._clientTypes=[],this._clientTypeSteps=[],this._clientTypes.push(new U(u.d.SPA,"Single Page App","Authorization code flow + PKCE","A client-side application running in a browser.<br />These applications cannot be trusted to keep secrets\n                or use refresh tokens.<br />Tokens will be sent through via the browser and will be visible to the user.","language"),new U(u.d.WebApp,"Web App","Hybrid flow with client authentication","A server-side application running on your infrastructure.<br />These applications can be trusted to\n                keep a secret and use refresh tokens.<br />Tokens will be sent to a back-end server and will not be visible to the user.","desktop_windows"),new U(u.d.Native,"Native","Authorization code flow + PKCE","A desktop or mobile application running on a user's device.<br />These applications cannot be trusted to keep\n                a secret but can use refresh tokens.<br />Token visibility dependent on browser and redirect URI choice.","phone_android"),new U(u.d.Machine,"Machine","Client credentials","A machine-to-machine method of communication.<br />No users are involved in the process.<br />Tokens will be sent\n                via back-channel communication.","dns"),new U(u.d.Device,"Device","Device flow using external browser","An IoT application or otherwise browserless or input constrained device.<br />These applications\n                typically cannot be trusted to keep a secret but can use refresh tokens.","signal_wifi_4_bar"),new U(u.d.SPALegacy,"Single Page App (legacy)","Implicit flow","A client-side application running in a browser using previous OAuth Working Group recommendations.\n                <br />These applications cannot be trusted to keep secrets or use refresh tokens.<br />Tokens will be sent through via the browser and will be visible to the user.","language")),this._clientTypeSteps.push({key:u.d.SPA,steps:[new k.a("Basic details",R),new k.a("Application URLs",D),new k.a("Access to Identity resources",K),new k.a("Access to API resources",X),new k.a("Summary",ae)]},{key:u.d.WebApp,steps:[new k.a("Basic details",R),new k.a("Application URLs",D),new k.a("Secrets",Ce),new k.a("Access to Identity resources",K),new k.a("Access to API resources",X),new k.a("Summary",ae)]},{key:u.d.Native,steps:[new k.a("Basic details",R),new k.a("Application URLs",D),new k.a("Secrets",Ce),new k.a("Access to Identity resources",K),new k.a("Access to API resources",X),new k.a("Summary",ae)]},{key:u.d.Machine,steps:[new k.a("Basic details",O),new k.a("Access to API resources",X),new k.a("Secrets",Ce),new k.a("Summary",ae)]},{key:u.d.Device,steps:[new k.a("Basic details",O),new k.a("Access to Identity resources",K),new k.a("Access to API resources",X),new k.a("Summary",ae)]},{key:u.d.SPALegacy,steps:[new k.a("Basic details",R),new k.a("Application URLs",D),new k.a("Access to Identity resources",K),new k.a("Access to API resources",X),new k.a("Summary",ae)]})}return _createClass(e,[{key:"getClientTypes",value:function(){return this._clientTypes}},{key:"getClientTypeSteps",value:function(e){return this._clientTypeSteps.find((function(t){return t.key===e})).steps}},{key:"getIdentityResources",value:function(){var e=this;return this._identityResources||(this._identityResources=new y.a,this._api.getIdentityResources(1,2147483647,"name+",void 0).subscribe((function(t){e._identityResources.next(t.items),e._identityResources.complete()}))),this._identityResources}},{key:"getApiResources",value:function(){var e=this;return this._apiResources||(this._apiResources=new y.a,this._api.getApiScopes(1,2147483647,"name+",void 0).subscribe((function(t){e._apiResources.next(t.items),e._apiResources.complete()}))),this._apiResources}}]),e}()).\u0275fac=function(e){return new(e||ye)(a.cc(u.n))},ye.\u0275prov=a.Kb({token:ye,factory:ye.\u0275fac}),ye),we=i("zVEd"),_e=function(e){return{background:e}};function Se(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.gc("click",(function(){a.zc(i);var e=t.$implicit;return a.ic(2).selectClientType(e)})),a.Ub(1,"div",13),a.Ub(2,"div",14),a.Ub(3,"div",15),a.Ub(4,"h3",16),a.Ic(5),a.Tb(),a.Ub(6,"p",17),a.Ic(7),a.Tb(),a.Tb(),a.Ub(8,"div",18),a.Ub(9,"span",19),a.Ic(10),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){var n=t.$implicit,c=a.ic(2);a.Bb(1),a.oc("ngStyle",a.sc(4,_e,(null==c.selectedClientType?null:c.selectedClientType.key)===n.key?"#46cd93":"")),a.Bb(4),a.Jc(n.name),a.Bb(2),a.Jc(n.flowDescription),a.Bb(3),a.Jc(n.icon)}}function xe(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",0),a.Ub(1,"div",15),a.Pb(2,"p",20),a.Tb(),a.Ub(3,"div",21),a.Ub(4,"button",22),a.gc("click",(function(){return a.zc(i),a.ic(2).startClientConfiguration()})),a.Ic(5," Get Started "),a.Tb(),a.Tb(),a.Tb()}if(2&e){var n=a.ic(2);a.Bb(2),a.oc("innerHTML",n.selectedClientType.descriptionHtml,a.Ac)}}function Re(e,t){if(1&e&&(a.Ub(0,"div",8),a.Ub(1,"div",9),a.Gc(2,Se,11,6,"div",10),a.Tb(),a.Pb(3,"hr"),a.Gc(4,xe,6,1,"div",11),a.Tb()),2&e){var i=a.ic();a.Bb(2),a.oc("ngForOf",i.clientTypes),a.Bb(2),a.oc("ngIf",i.selectedClientType)}}var Le=function(e){return{"d-none":e}};function Me(e,t){if(1&e&&(a.Ub(0,"h3",31),a.Ic(1),a.Tb()),2&e){var i=t.$implicit,n=t.index,c=a.ic(2);a.oc("ngClass",a.sc(4,Le,n!==c.wizardStepIndex)),a.Bb(1),a.Mc(" Step ",c.wizardStepIndex+1," of ",c.clientTypeSteps.length," - ",i.title," ")}}function Ae(e,t){}function Be(e,t){if(1&e){var i=a.Vb();a.Ub(0,"button",32),a.gc("click",(function(){return a.zc(i),a.ic(2).goToPreviousStep()})),a.Ic(1," Previous Step "),a.Tb()}}function Oe(e,t){if(1&e){var i=a.Vb();a.Ub(0,"button",33),a.gc("click",(function(){return a.zc(i),a.ic(2).goToNextStep()})),a.Ic(1),a.Tb()}if(2&e){var n=a.ic(2);a.Bb(1),a.Kc(" ",n.isFinishingStep?"Go to Summary":"Next Step"," ")}}function ze(e,t){if(1&e){var i=a.Vb();a.Ub(0,"button",34),a.gc("click",(function(){return a.zc(i),a.ic(2).saveClient()})),a.Ic(1," Save "),a.Tb()}}var Pe=function(e){return{"was-validated":e}};function Ge(e,t){if(1&e&&(a.Ub(0,"div"),a.Gc(1,Me,2,6,"h3",23),a.Ub(2,"form",24,25),a.Gc(4,Ae,0,0,"ng-template",26),a.Ub(5,"div",27),a.Ub(6,"div"),a.Gc(7,Be,2,0,"button",28),a.Gc(8,Oe,2,1,"button",29),a.Gc(9,ze,2,0,"button",30),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&e){var i=a.ic();a.Bb(1),a.oc("ngForOf",i.clientTypeSteps),a.Bb(1),a.oc("ngClass",a.sc(6,Pe,i.hostFormValidated))("formGroup",i.form),a.Bb(5),a.oc("ngIf",i.canGoBack),a.Bb(1),a.oc("ngIf",i.canGoFront),a.Bb(1),a.oc("ngIf",i.isSummaryStep)}}var Ve,qe,De=((Ve=function(){function e(t,i,n,c,o,r,l,s){_classCallCheck(this,e),this._wizardService=t,this._changeDetectionRef=i,this._componentFactoryResolver=n,this._formBuilder=c,this._api=o,this._router=r,this._route=l,this._toast=s,this.clientTypes=[],this.clientConfigurationStarted=!1,this.clientTypeSteps=[],this.wizardStepIndex=0,this.client=new u.h,this.hostFormValidated=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.clientTypes=this._wizardService.getClientTypes(),this.form=this._formBuilder.group({clientType:[""],clientId:["",[c.w.required,c.w.maxLength(200)]],clientName:["",[c.w.required,c.w.maxLength(200)]],clientUrl:["",c.w.maxLength(2e3)],logoUrl:["",c.w.maxLength(2e3)],description:["",c.w.maxLength(1e3)],requireConsent:[!1],callbackUrl:["",[c.w.required,c.w.maxLength(2e3)]],postLogoutUrl:["",c.w.maxLength(2e3)],identityResources:[[]],apiResources:[[]],secrets:[[]]})}},{key:"selectClientType",value:function(e){this.selectedClientType=e}},{key:"startClientConfiguration",value:function(){this.clientConfigurationStarted=!0,this.clientTypeSteps=this._wizardService.getClientTypeSteps(this.selectedClientType.key),this._changeDetectionRef.detectChanges(),this.form.get("clientType").setValue(this.selectedClientType.key),this.loadStep(this.clientTypeSteps[this.wizardStepIndex])}},{key:"goToNextStep",value:function(){this.canGoFront&&(this._loadedStepInstance.isValid()?(this.hostFormValidated=!1,this.wizardStepIndex+=1,this.loadStep(this.clientTypeSteps[this.wizardStepIndex])):(this.hostFormValidated=!0,this.validateFormFields(this.form)),this._loadedStepInstance.formValidated.emit(this.hostFormValidated))}},{key:"goToPreviousStep",value:function(){this.canGoBack&&(this.hostFormValidated=!1,this.wizardStepIndex-=1,this.loadStep(this.clientTypeSteps[this.wizardStepIndex]))}},{key:"saveClient",value:function(){var e=this;this._api.createClient({clientType:this.form.get("clientType").value,clientId:this.form.get("clientId").value,clientName:this.form.get("clientName").value,requireConsent:this.form.get("requireConsent").value,clientUri:this.form.get("clientUrl").value,logoUri:this.form.get("logoUrl").value,description:this.form.get("description").value,redirectUri:this.form.get("callbackUrl").value,postLogoutRedirectUri:this.form.get("postLogoutUrl").value,identityResources:this.form.get("identityResources").value,apiResources:this.form.get("apiResources").value,secrets:this.form.get("secrets").value}).subscribe((function(t){e._toast.showSuccess("Client '".concat(t.clientId,"' was created successfully.")),e._router.navigate(["../"],{relativeTo:e._route})}))}},{key:"validateFormFields",value:function(e){var t=this;Object.keys(e.controls).forEach((function(i){var n=e.get(i);n instanceof c.e?n.markAsTouched({onlySelf:!0}):n instanceof c.g&&t.validateFormFields(n)}))}},{key:"loadStep",value:function(e){var t=this,i=this._componentFactoryResolver.resolveComponentFactory(e.component),n=this._wizardStepHost.viewContainerRef;n.clear();var c=n.createComponent(i);this._loadedStepInstance=c.instance,this._loadedStepInstance.data={client:this.client,form:this.form},this._formValidatedSubscription&&this._formValidatedSubscription.unsubscribe(),this._formValidatedSubscription=this._loadedStepInstance.formValidated.subscribe((function(e){t.hostFormValidated=e}))}},{key:"canGoFront",get:function(){return this.wizardStepIndex>=0&&this.wizardStepIndex<this.clientTypeSteps.length-1}},{key:"canGoBack",get:function(){return this.wizardStepIndex>0&&this.wizardStepIndex<=this.clientTypeSteps.length-1}},{key:"isFinishingStep",get:function(){return this.wizardStepIndex===this.clientTypeSteps.length-2}},{key:"isSummaryStep",get:function(){return this.wizardStepIndex===this.clientTypeSteps.length-1}}]),e}()).\u0275fac=function(e){return new(e||Ve)(a.Ob(Ie),a.Ob(a.h),a.Ob(a.j),a.Ob(c.d),a.Ob(u.n),a.Ob(s.d),a.Ob(s.a),a.Ob(Y.a))},Ve.\u0275cmp=a.Ib({type:Ve,selectors:[["app-client-add"]],viewQuery:function(e,t){var i;1&e&&a.Nc(we.a,!0),2&e&&a.wc(i=a.hc())&&(t._wizardStepHost=i.first)},features:[a.Ab([Ie])],decls:10,vars:2,consts:[[1,"row"],[1,"col-sm-12"],[1,"card","m-b-30","m-t-30"],[1,"card-body"],[1,"mt-0","header-title"],[1,"text-muted","m-b-30","font-14"],["class","container m-auto",4,"ngIf"],[4,"ngIf"],[1,"container","m-auto"],[1,"row","m-t-20"],["class","col-md-6 cursor-pointer",3,"click",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"col-md-6","cursor-pointer",3,"click"],[1,"card","mb-3","card-body","shadow",3,"ngStyle"],[1,"row","no-gutters"],[1,"col-sm-10"],[1,"card-title","font-14","m-0"],[1,"card-text"],[1,"col-sm-2","m-auto","text-center"],[1,"material-icons","font-40","align-middle"],[3,"innerHTML"],[1,"col-sm-2","m-auto"],["type","button",1,"btn","btn-lg","btn-primary","waves-effect","waves-light","m-r-5","float-right",3,"click"],["class","m-b-30 text-center",3,"ngClass",4,"ngFor","ngForOf"],["novalidate","",1,"needs-validation",3,"ngClass","formGroup"],["ngForm","ngForm"],["wizardStepHost",""],[1,"form-group"],["type","button","class","btn btn-secondary m-r-5",3,"click",4,"ngIf"],["type","button","class","btn btn-primary m-r-5",3,"click",4,"ngIf"],["type","submit","class","btn btn-primary",3,"click",4,"ngIf"],[1,"m-b-30","text-center",3,"ngClass"],["type","button",1,"btn","btn-secondary","m-r-5",3,"click"],["type","button",1,"btn","btn-primary","m-r-5",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"div",3),a.Ub(4,"h4",4),a.Ic(5,"Add Client"),a.Tb(),a.Ub(6,"p",5),a.Ic(7," Setup a client application. "),a.Tb(),a.Gc(8,Re,5,2,"div",6),a.Gc(9,Ge,10,8,"div",7),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&e&&(a.Bb(8),a.oc("ngIf",!t.clientConfigurationStarted),a.Bb(1),a.oc("ngIf",t.clientConfigurationStarted))},directives:[n.m,n.l,n.n,c.y,c.n,n.k,c.h,we.a],styles:[".align-middle[_ngcontent-%COMP%]{min-height:49px;display:inline-flex;align-items:center}"]}),Ve),Ne=i("cp0P"),Fe=i("lJxs"),je=function(e){return e.Redirect="Redicrect",e.Cors="Cors",e.PostLogoutRedirect="PostLogoutRedirect",e}({}),Ee=((qe=function(){function e(t){_classCallCheck(this,e),this._api=t}return _createClass(e,[{key:"getClient",value:function(e){var t=this;return this._client||(this._client=new y.a,this._api.getClient(e).subscribe((function(e){t._client.next(e),t._client.complete()}))),this._client}},{key:"updateClient",value:function(e){var t=this;return this._api.updateClient(e.clientId,new u.v({accessTokenLifetime:e.accessTokenLifetime,absoluteRefreshTokenLifetime:e.absoluteRefreshTokenLifetime,accessTokenType:e.accessTokenType,allowAccessTokensViaBrowser:e.allowAccessTokensViaBrowser,allowPlainTextPkce:e.allowPlainTextPkce,refreshTokenUsage:e.refreshTokenUsage,refreshTokenExpiration:e.refreshTokenExpiration,allowOfflineAccess:e.allowOfflineAccess,updateAccessTokenClaimsOnRefresh:e.updateAccessTokenClaimsOnRefresh,allowRememberConsent:e.allowRememberConsent,alwaysIncludeUserClaimsInIdToken:e.alwaysIncludeUserClaimsInIdToken,alwaysSendClientClaims:e.alwaysSendClientClaims,authorizationCodeLifetime:e.authorizationCodeLifetime,clientClaimsPrefix:e.clientClaimsPrefix,clientName:e.clientName,clientUri:e.clientUri,consentLifetime:e.consentLifetime,description:e.description,frontChannelLogoutSessionRequired:e.frontChannelLogoutSessionRequired,frontChannelLogoutUri:e.frontChannelLogoutUri,identityTokenLifetime:e.identityTokenLifetime,includeJwtId:e.includeJwtId,logoUri:e.logoUri,pairWiseSubjectSalt:e.pairWiseSubjectSalt,requireConsent:e.requireConsent,requirePkce:e.requirePkce,userSsoLifetime:e.userSsoLifetime,backChannelLogoutUri:e.backChannelLogoutUri,backChannelLogoutSessionRequired:e.backChannelLogoutSessionRequired,deviceCodeLifetime:e.deviceCodeLifetime,userCodeType:e.userCodeType,enabled:e.enabled,slidingRefreshTokenLifetime:e.slidingRefreshTokenLifetime})).pipe(Object(Fe.a)((function(i){t._client.next(e),t._client.complete()})))}},{key:"updateClientUrl",value:function(e,t,i,n){var c=this;this.getClient(e).subscribe((function(e){switch(n){case je.Redirect:if(i)e.redirectUris.push(t);else{var o=e.redirectUris.findIndex((function(e){return e===t}));o>-1&&e.redirectUris.splice(o,1)}break;case je.Cors:if(i)e.allowedCorsOrigins.push(t);else{var r=e.allowedCorsOrigins.findIndex((function(e){return e===t}));r>-1&&e.allowedCorsOrigins.splice(r,1)}break;case je.PostLogoutRedirect:if(i)e.postLogoutRedirectUris.push(t);else{var l=e.postLogoutRedirectUris.findIndex((function(e){return e===t}));l>-1&&e.postLogoutRedirectUris.splice(l,1)}}c._client.next(e),c._client.complete()}))}},{key:"sendUpdateClientUrls",value:function(e,t,i,n){return this._api.updateClientUrls(e,{allowedCorsOrigins:t,postLogoutRedirectUris:i,redirectUris:n})}},{key:"getIdentityResources",value:function(){var e=this;return this._identityResources||(this._identityResources=new y.a,this._api.getIdentityResources(1,2147483647,"name+",void 0).subscribe((function(t){e._identityResources.next(t.items),e._identityResources.complete()}))),this._identityResources}},{key:"getApiScopes",value:function(){var e=this;return this._apiScopes||(this._apiScopes=new y.a,this._api.getApiScopes(1,2147483647,"name+",void 0).subscribe((function(t){e._apiScopes.next(t.items),e._apiScopes.complete()}))),this._apiScopes}},{key:"addClaim",value:function(e,t){var i=this;return this._api.addClientClaim(e,{type:t.type,value:t.value}).pipe(Object(Fe.a)((function(t){i.getClient(e).subscribe((function(e){e.claims.push(t),i._client.next(e),i._client.complete()}))})))}},{key:"deleteClaim",value:function(e,t){var i=this;return this.getClient(e).subscribe((function(e){var n=e.claims.findIndex((function(e){return e.id===t.id}));n>-1&&e.claims.splice(n,1),i._client.next(e),i._client.complete()})),this._api.deleteClientClaim(e,t.id)}},{key:"addApiResource",value:function(e,t){var i=this;return this.getClient(e).subscribe((function(e){e.apiResources.push(t.name),i._client.next(e),i._client.complete()})),this._api.addClientResources(e,[t.name])}},{key:"deleteApiResource",value:function(e,t){var i=this;return this.getClient(e).subscribe((function(e){var n=e.apiResources.findIndex((function(e){return e===t.name}));n>-1&&e.apiResources.splice(n,1),i._client.next(e),i._client.complete()})),this._api.deleteClientResource(e,[t.name])}},{key:"addIdentityResource",value:function(e,t){var i=this;return this.getClient(e).subscribe((function(e){e.identityResources.push(t.name),i._client.next(e),i._client.complete()})),this._api.addClientResources(e,[t.name])}},{key:"deleteIdentityResource",value:function(e,t){var i=this;return this.getClient(e).subscribe((function(e){var n=e.identityResources.findIndex((function(e){return e===t.name}));n>-1&&e.identityResources.splice(n,1),i._client.next(e),i._client.complete()})),this._api.deleteClientResource(e,[t.name])}},{key:"addGrantType",value:function(e,t){var i=this;return this._api.addClientGrantType(e,t).pipe(Object(Fe.a)((function(t){i.getClient(e).subscribe((function(e){e.grantTypes.push(t.name),i._client.next(e),i._client.complete()}))})))}},{key:"deleteGrantType",value:function(e,t){var i=this;return this.getClient(e).subscribe((function(e){var n=e.grantTypes.findIndex((function(e){return e===t}));n>-1&&e.grantTypes.splice(n,1),i._client.next(e),i._client.complete()})),this._api.deleteClientGrantType(e,t)}},{key:"addSecret",value:function(e,t){var i=this,n=this.getClient(e),c=this._api.addClientSecret(e,t);return Object(Ne.a)([n,c]).pipe(Object(Fe.a)((function(e){return{client:e[0],addedSecret:e[1]}}))).pipe(Object(Fe.a)((function(e){e.addedSecret.valueText="Value is hidden",e.client.secrets.push(e.addedSecret),i._client.next(e.client),i._client.complete()})))}},{key:"deleteClientSecret",value:function(e,t){var i=this;return this.getClient(e).subscribe((function(e){var n=e.secrets.indexOf(t);n>-1&&e.secrets.splice(n,1),i._client.next(e),i._client.complete()})),this._api.deleteClientSecret(e,t.id)}},{key:"deleteClient",value:function(e){return this._api.deleteClient(e)}}]),e}()).\u0275fac=function(e){return new(e||qe)(a.cc(u.n))},qe.\u0275prov=a.Kb({token:qe,factory:qe.\u0275fac}),qe),He=function(){return["urls"]};function Ke(e,t){1&e&&(a.Ub(0,"a",15),a.Ic(1," Application URLs "),a.Tb()),2&e&&a.oc("routerLink",a.rc(1,He))}var Je,We=function(){return["details"]},Qe=function(){return["authorization_code","password","hybrid","implicit","urn:ietf:params:oauth:grant-type:device_code"]},$e=function(){return["secrets"]},Xe=function(){return["resources"]},Ye=function(){return["advanced"]},Ze=((Je=function(){function e(t,i){_classCallCheck(this,e),this._route=t,this._clientStore=i,this.client=new u.q}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._getDataSubscription=this._clientStore.getClient(this._route.snapshot.params.id).subscribe((function(t){e.client=t}))}},{key:"ngOnDestroy",value:function(){this._getDataSubscription&&this._getDataSubscription.unsubscribe()}},{key:"hasAnyOf",value:function(e){return this.client.grantTypes&&this.client.grantTypes.some((function(t){return e.indexOf(t)>-1}))}}]),e}()).\u0275fac=function(e){return new(e||Je)(a.Ob(s.a),a.Ob(Ee))},Je.\u0275cmp=a.Ib({type:Je,selectors:[["app-client-edit"]],features:[a.Ab([Ee])],decls:26,vars:11,consts:[[1,"row"],[1,"col-12"],[1,"card","m-b-30","m-t-30"],[1,"card-body"],[1,"mt-0","header-title"],[1,"text-muted","m-b-30","font-14"],["role","tablist",1,"nav","nav-tabs","justify-content-start"],[1,"nav-item"],["routerLinkActive","active","role","tab","id","client-details-tab",1,"nav-link",3,"routerLink"],["class","nav-link","routerLinkActive","active","role","tab","id","client-urls-tab",3,"routerLink",4,"ngIf"],["routerLinkActive","active","role","tab","id","client-secrets-tab",1,"nav-link",3,"routerLink"],["routerLinkActive","active","role","tab","id","resources-tab",1,"nav-link",3,"routerLink"],["routerLinkActive","active","role","tab","id","advanced-tab",1,"nav-link",3,"routerLink"],[1,"tab-content","mt-2"],["role","tabpanel",1,"tab-pane","active"],["routerLinkActive","active","role","tab","id","client-urls-tab",1,"nav-link",3,"routerLink"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Ub(3,"div",3),a.Ub(4,"h4",4),a.Ic(5),a.Tb(),a.Ub(6,"p",5),a.Ic(7," Here you can modify some properties of a system client. "),a.Tb(),a.Ub(8,"ul",6),a.Ub(9,"li",7),a.Ub(10,"a",8),a.Ic(11," Details "),a.Tb(),a.Tb(),a.Ub(12,"li",7),a.Gc(13,Ke,2,2,"a",9),a.Tb(),a.Ub(14,"li",7),a.Ub(15,"a",10),a.Ic(16," Secrets "),a.Tb(),a.Tb(),a.Ub(17,"li",7),a.Ub(18,"a",11),a.Ic(19," Resources "),a.Tb(),a.Tb(),a.Ub(20,"li",7),a.Ub(21,"a",12),a.Ic(22," Advanced "),a.Tb(),a.Tb(),a.Tb(),a.Ub(23,"div",13),a.Ub(24,"div",14),a.Pb(25,"router-outlet"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&e&&(a.Bb(5),a.Jc(t.client.clientId),a.Bb(5),a.oc("routerLink",a.rc(6,We)),a.Bb(3),a.oc("ngIf",t.hasAnyOf(a.rc(7,Qe))),a.Bb(2),a.oc("routerLink",a.rc(8,$e)),a.Bb(3),a.oc("routerLink",a.rc(9,Xe)),a.Bb(3),a.oc("routerLink",a.rc(10,Ye)))},directives:[s.g,s.f,n.m,s.i],encapsulation:2}),Je);function et(e,t){1&e&&(a.Ub(0,"p"),a.Ic(1,"Loading client data..."),a.Tb())}function tt(e,t){1&e&&(a.Ub(0,"div",46),a.Ic(1," Field 'Display Name' is required. "),a.Tb())}var it=function(e){return{"was-validated":e}};function nt(e,t){if(1&e){var i=a.Vb();a.Ub(0,"form",4,5),a.gc("ngSubmit",(function(){a.zc(i);var e=a.xc(1),t=a.ic();return e.form.valid&&t.update()})),a.Ub(2,"div",6),a.Ub(3,"label",7),a.Ub(4,"i",8),a.Ic(5," info "),a.Tb(),a.Ic(6," Client Id "),a.Tb(),a.Ub(7,"div",9),a.Ub(8,"span",10),a.Ic(9),a.Tb(),a.Tb(),a.Tb(),a.Ub(10,"div",6),a.Ub(11,"label",11),a.Ub(12,"i",12),a.Ic(13," info "),a.Tb(),a.Ic(14," Display Name (*) "),a.Tb(),a.Ub(15,"div",13),a.Ub(16,"input",14,15),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic().client.clientName=e})),a.Tb(),a.Gc(18,tt,2,0,"div",16),a.Tb(),a.Tb(),a.Ub(19,"div",6),a.Ub(20,"label",17),a.Ic(21," Description "),a.Tb(),a.Ub(22,"div",13),a.Ub(23,"textarea",18,19),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic().client.description=e})),a.Ic(25,"            "),a.Tb(),a.Tb(),a.Tb(),a.Ub(26,"div",6),a.Ub(27,"label",20),a.Ub(28,"i",21),a.Ic(29," info "),a.Tb(),a.Ic(30," Display URL "),a.Tb(),a.Ub(31,"div",13),a.Ub(32,"input",22,23),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic().client.clientUri=e})),a.Tb(),a.Tb(),a.Tb(),a.Ub(34,"div",6),a.Ub(35,"label",24),a.Ub(36,"i",25),a.Ic(37," info "),a.Tb(),a.Ic(38," Logo URL "),a.Tb(),a.Ub(39,"div",13),a.Ub(40,"input",26,27),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic().client.logoUri=e})),a.Tb(),a.Tb(),a.Tb(),a.Ub(42,"div",6),a.Ub(43,"label",28),a.Ic(44," Enabled "),a.Tb(),a.Ub(45,"div",13),a.Ub(46,"div",29),a.Ub(47,"input",30,31),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic().client.enabled=e})),a.Tb(),a.Pb(49,"label",32),a.Tb(),a.Tb(),a.Tb(),a.Ub(50,"div",6),a.Ub(51,"label",33),a.Ub(52,"i",34),a.Ic(53," info "),a.Tb(),a.Ic(54," Require Consent "),a.Tb(),a.Ub(55,"div",13),a.Ub(56,"div",29),a.Ub(57,"input",35,36),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic().client.requireConsent=e})),a.Tb(),a.Pb(59,"label",37),a.Tb(),a.Tb(),a.Tb(),a.Ub(60,"div",6),a.Ub(61,"label",38),a.Ub(62,"i",39),a.Ic(63," info "),a.Tb(),a.Ic(64," Remember Consent "),a.Tb(),a.Ub(65,"div",13),a.Ub(66,"div",29),a.Ub(67,"input",40,41),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic().client.allowRememberConsent=e})),a.Tb(),a.Pb(69,"label",42),a.Tb(),a.Tb(),a.Tb(),a.Ub(70,"div",43),a.Ub(71,"div"),a.Ub(72,"button",44),a.Ic(73," Save Changes "),a.Tb(),a.Ub(74,"button",45),a.gc("click",(function(){return a.zc(i),a.ic(),a.xc(1).fire()})),a.Ic(75," Delete "),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){var n=a.xc(1),c=a.xc(17),o=a.ic();a.oc("ngClass",a.sc(10,it,n.submitted)),a.Bb(9),a.Kc(" ",o.client.clientId," "),a.Bb(7),a.oc("ngModel",o.client.clientName),a.Bb(2),a.oc("ngIf",n.submitted&&c.invalid),a.Bb(5),a.oc("ngModel",o.client.description),a.Bb(9),a.oc("ngModel",o.client.clientUri),a.Bb(8),a.oc("ngModel",o.client.logoUri),a.Bb(7),a.oc("ngModel",o.client.enabled),a.Bb(10),a.oc("ngModel",o.client.requireConsent),a.Bb(10),a.oc("ngModel",o.client.allowRememberConsent)}}var ct,ot=((ct=function(){function e(t,i,n,c){_classCallCheck(this,e),this._route=t,this._clientStore=i,this._toast=n,this._router=c}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._getDataSubscription=this._clientStore.getClient(this._route.parent.snapshot.params.id).subscribe((function(t){e.client=t}))}},{key:"ngOnDestroy",value:function(){this._getDataSubscription&&this._getDataSubscription.unsubscribe(),this._deleteClientSubscription&&this._deleteClientSubscription.unsubscribe(),this._updateClientSubscription&&this._updateClientSubscription.unsubscribe()}},{key:"delete",value:function(){var e=this;this._deleteClientSubscription=this._clientStore.deleteClient(this.client.clientId).subscribe((function(t){e._toast.showSuccess("Client '".concat(e.client.clientName,"' was deleted successfully.")),e._router.navigate(["../../"],{relativeTo:e._route})}))}},{key:"update",value:function(){var e=this;this._updateClientSubscription=this._clientStore.updateClient(this.client).subscribe((function(t){e._toast.showSuccess("Client '".concat(e.client.clientName,"' was updated successfully."))}))}}]),e}()).\u0275fac=function(e){return new(e||ct)(a.Ob(s.a),a.Ob(Ee),a.Ob(Y.a),a.Ob(s.d))},ct.\u0275cmp=a.Ib({type:ct,selectors:[["app-client-details"]],decls:4,vars:4,consts:[["title","Delete?","type","warning",3,"text","showCancelButton","confirm"],["deleteAlert",""],[4,"ngIf"],["class","needs-validation","novalidate","",3,"ngClass","ngSubmit",4,"ngIf"],["novalidate","",1,"needs-validation",3,"ngClass","ngSubmit"],["form","ngForm"],[1,"form-group","row"],["for","client-id",1,"col-sm-2","col-form-label"],["title","The unique identifier for this application.",1,"material-icons","align-middle"],[1,"col-sm-10","col-form-label"],["id","client-id","name","client-id",1,"col-form-label"],["for","client-display-name",1,"col-sm-2","col-form-label"],["title","Application name that will be seen on consent screen.",1,"material-icons","align-middle"],[1,"col-sm-10"],["type","text","id","client-display-name","name","client-display-name","maxlength","200","required","",1,"form-control",3,"ngModel","ngModelChange"],["clientName","ngModel"],["class","form-control-feedback text-danger",4,"ngIf"],["for","client-description",1,"col-sm-2","col-form-label"],["id","client-description","name","client-description","rows","3","maxlength","1000",1,"form-control",3,"ngModel","ngModelChange"],["description","ngModel"],["for","client-display-url",1,"col-sm-2","col-form-label"],["title","Application URL that will be seen on consent screen.",1,"material-icons","align-middle"],["type","text","id","client-display-url","name","client-display-url","maxlength","2000",1,"form-control",3,"ngModel","ngModelChange"],["clientUrl","ngModel"],["for","client-logo-url",1,"col-sm-2","col-form-label"],["title","Application logo that will be seen on consent screen.",1,"material-icons","align-middle"],["type","text","id","client-logo-url","name","client-logo-url","maxlength","2000",1,"form-control",3,"ngModel","ngModelChange"],["logoUrl","ngModel"],["for","client-enabled",1,"col-sm-2","col-form-label"],[1,"form-check","col-form-label","custom-control","custom-checkbox"],["type","checkbox","id","client-enabled","name","client-enabled",1,"form-check-input","custom-control-input",3,"ngModel","ngModelChange"],["enabled","ngModel"],["for","client-enabled",1,"custom-control-label"],["for","client-require-consent",1,"col-sm-2","col-form-label"],["title","Specifies whether a consent screen is required.",1,"material-icons","align-middle"],["type","checkbox","id","client-require-consent","name","client-require-consent",1,"form-check-input","custom-control-input",3,"ngModel","ngModelChange"],["requireConsent","ngModel"],["for","client-require-consent",1,"custom-control-label"],["for","client-remember-consent",1,"col-sm-2","col-form-label"],["title","Specifies whether consent screen is remembered after having been given.",1,"material-icons","align-middle"],["type","checkbox","id","client-remember-consent","name","client-remember-consent",1,"form-check-input","custom-control-input",3,"ngModel","ngModelChange"],["allowRememberonsent","ngModel"],["for","client-remember-consent",1,"custom-control-label"],[1,"form-group"],["type","submit",1,"btn","btn-primary","m-r-5"],["type","button",1,"btn","btn-danger","m-r-5","float-right",3,"click"],[1,"form-control-feedback","text-danger"]],template:function(e,t){1&e&&(a.Ub(0,"swal",0,1),a.gc("confirm",(function(){return t.delete()})),a.Tb(),a.Gc(2,et,2,0,"p",2),a.Gc(3,nt,76,12,"form",3)),2&e&&(a.oc("text","Client '"+(null==t.client?null:t.client.clientId)+"' will be deleted permanently. This action cannot be reversed.")("showCancelButton",!0),a.Bb(2),a.oc("ngIf",!t.client),a.Bb(1),a.oc("ngIf",t.client))},directives:[r.a,n.m,c.y,c.n,c.o,n.k,c.b,c.j,c.u,c.m,c.p,c.a],encapsulation:2}),ct),rt=["checkboxTemplate"],lt=["redirectTemplate"],st=["corsTemplate"],at=["postLogoutRedirectTemplate"],ut=["urlForm"];function dt(e,t){1&e&&(a.Ub(0,"div",22),a.Ic(1," Please select a value. "),a.Tb())}var bt=function(e){return{"was-validated":e}};function ft(e,t){if(1&e){var i=a.Vb();a.Ub(0,"form",12,13),a.gc("ngSubmit",(function(){a.zc(i);var e=a.xc(1),t=a.ic();return e.form.valid&&t.addClientUrl()})),a.Ub(2,"div",14),a.Ub(3,"div",15),a.Ub(4,"label",16),a.Ic(5," URL "),a.Tb(),a.Ub(6,"input",17,18),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic().url=e})),a.Tb(),a.Gc(8,dt,2,0,"div",19),a.Tb(),a.Ub(9,"div",20),a.Ub(10,"button",21),a.Ic(11," Add "),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){var n=a.xc(1),c=a.xc(7),o=a.ic();a.oc("ngClass",a.sc(4,bt,n.submitted)),a.Bb(6),a.oc("ngModel",o.url)("placeholder","Please provide a url..."),a.Bb(2),a.oc("ngIf",n.submitted&&c.invalid)}}function mt(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",23),a.Ub(1,"input",24),a.gc("change",(function(e){a.zc(i);var n=t.column,c=t.row;return a.ic().checkboxChanged(e,n,c)})),a.Tb(),a.Pb(2,"label",25),a.Tb()}if(2&e){var n=t.row,c=t.column,o=t.value;a.Bb(1),a.oc("id",n.id+"-"+c.$$id)("checked",o),a.Bb(1),a.oc("for",n.id+"-"+c.$$id)}}function pt(e,t){1&e&&(a.Ub(0,"span"),a.Ub(1,"i",26),a.Ic(2," info "),a.Tb(),a.Ic(3," Redirect "),a.Tb())}function gt(e,t){1&e&&(a.Ub(0,"span"),a.Ub(1,"i",27),a.Ic(2," info "),a.Tb(),a.Ic(3," CORS "),a.Tb())}function ht(e,t){1&e&&(a.Ub(0,"span"),a.Ub(1,"i",28),a.Ic(2," info "),a.Tb(),a.Ic(3," Post Logout Redirect "),a.Tb())}var vt,Tt=((vt=function(){function e(t,i,n,c){_classCallCheck(this,e),this._route=t,this._clientStore=i,this._toast=n,this._utilities=c,this.columns=[],this.rows=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.columns=[{prop:"url",name:"URL",draggable:!1,canAutoResize:!0,sortable:!0,resizeable:!1},{prop:"isRedirect",draggable:!1,canAutoResize:!0,sortable:!1,resizeable:!1,cellTemplate:this._checkboxTemplate,headerTemplate:this._redirectTemplate},{prop:"isCors",draggable:!1,canAutoResize:!0,sortable:!1,resizeable:!1,cellTemplate:this._checkboxTemplate,headerTemplate:this._corsTemplate},{prop:"isPostLogoutRedirect",draggable:!1,canAutoResize:!0,sortable:!1,resizeable:!1,cellTemplate:this._checkboxTemplate,headerTemplate:this._postLogoutRedirectTemplate}],this._clientId=this._route.parent.snapshot.params.id,this.renderTable()}},{key:"ngOnDestroy",value:function(){this._getDataSubscription&&this._getDataSubscription.unsubscribe(),this._updateClientUrlsSubscription&&this._updateClientUrlsSubscription.unsubscribe()}},{key:"checkboxChanged",value:function(e,t,i){var n=this,c=t.prop;this._clientStore.updateClientUrl(this._clientId,i.url,e.currentTarget.checked,"isRedirect"===c?je.Redirect:"isCors"===c?je.Cors:je.PostLogoutRedirect),setTimeout((function(){return n.renderTable()}),0)}},{key:"addClientUrl",value:function(){var e=this;this._clientStore.updateClientUrl(this._clientId,this.url,!0,je.Cors),setTimeout((function(){return e.renderTable()}),0),this._form.resetForm({url:""})}},{key:"update",value:function(){var e=this;this._updateClientUrlsSubscription=this._clientStore.sendUpdateClientUrls(this._clientId,this.client.allowedCorsOrigins,this.client.postLogoutRedirectUris,this.client.redirectUris).subscribe((function(t){e._toast.showSuccess("Client URLs were successfully updated.")}))}},{key:"renderTable",value:function(){var e=this;this._getDataSubscription=this._clientStore.getClient(this._clientId).subscribe((function(t){e.client=t;var i=t.redirectUris;t.allowedCorsOrigins&&(i=i.concat(t.allowedCorsOrigins)),t.postLogoutRedirectUris&&(i=i.concat(t.postLogoutRedirectUris)),i=_toConsumableArray(new Set(i));var n=[];i.forEach((function(i){n.push({url:i,isCors:t.allowedCorsOrigins.includes(i),isPostLogoutRedirect:t.postLogoutRedirectUris.includes(i),isRedirect:t.redirectUris.includes(i),id:e._utilities.newGuid()})})),e.rows=n}))}}]),e}()).\u0275fac=function(e){return new(e||vt)(a.Ob(s.a),a.Ob(Ee),a.Ob(Y.a),a.Ob(I.a))},vt.\u0275cmp=a.Ib({type:vt,selectors:[["app-client-urls"]],viewQuery:function(e,t){var i;1&e&&(a.Ec(rt,!0),a.Ec(lt,!0),a.Ec(st,!0),a.Ec(at,!0),a.Nc(ut,!0)),2&e&&(a.wc(i=a.hc())&&(t._checkboxTemplate=i.first),a.wc(i=a.hc())&&(t._redirectTemplate=i.first),a.wc(i=a.hc())&&(t._corsTemplate=i.first),a.wc(i=a.hc())&&(t._postLogoutRedirectTemplate=i.first),a.wc(i=a.hc())&&(t._form=i.first))},decls:18,vars:8,consts:[["class","needs-validation mt-3","novalidate","",3,"ngClass","ngSubmit",4,"ngIf"],[1,"row","mt-3"],[1,"col-12"],[3,"clientSide","rowsPerPage","canFilter","columns","rows","defaultSortField","defaultSortDirection"],["clientUrlsList",""],[1,"mt-3"],[1,"form-group"],["type","submit",1,"btn","btn-primary","m-r-5",3,"click"],["checkboxTemplate",""],["redirectTemplate",""],["corsTemplate",""],["postLogoutRedirectTemplate",""],["novalidate","",1,"needs-validation","mt-3",3,"ngClass","ngSubmit"],["urlForm","ngForm"],[1,"form-row"],[1,"col-md"],["for","url",1,"sr-only"],["id","url","name","url","required","",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["addedUrl","ngModel"],["class","form-control-feedback text-danger",4,"ngIf"],[1,"col-md-1","text-right"],["type","submit",1,"btn","btn-primary","m-r-5"],[1,"form-control-feedback","text-danger"],[1,"form-check","custom-control","custom-checkbox"],["type","checkbox",1,"form-check-input","custom-control-input",3,"id","checked","change"],[1,"custom-control-label",3,"for"],["title","URL that tokens can be sent.",1,"material-icons","align-middle"],["title","Domain that can make cross origin requests.",1,"material-icons","align-middle"],["title","Can redirect to this URL after logout.",1,"material-icons","align-middle"]],template:function(e,t){1&e&&(a.Gc(0,ft,12,6,"form",0),a.Ub(1,"div",1),a.Ub(2,"div",2),a.Pb(3,"app-list-view",3,4),a.Tb(),a.Tb(),a.Ub(5,"form",5),a.Ub(6,"div",6),a.Ub(7,"div"),a.Ub(8,"button",7),a.gc("click",(function(){return t.update()})),a.Ic(9," Save Changes "),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Gc(10,mt,3,3,"ng-template",null,8,a.Hc),a.Gc(12,pt,4,0,"ng-template",null,9,a.Hc),a.Gc(14,gt,4,0,"ng-template",null,10,a.Hc),a.Gc(16,ht,4,0,"ng-template",null,11,a.Hc)),2&e&&(a.oc("ngIf",t.client),a.Bb(3),a.oc("clientSide",!0)("rowsPerPage",100)("canFilter",!1)("columns",t.columns)("rows",t.rows)("defaultSortField","url")("defaultSortDirection","Asc"))},directives:[n.m,d.a,c.y,c.n,c.o,n.k,c.b,c.u,c.m,c.p],encapsulation:2}),vt);function yt(e,t){1&e&&(a.Ub(0,"p",2),a.Ic(1,"Loading client resources..."),a.Tb())}var Ut=function(){return{sourceListTitle:"Available Resources",emptySourceListMessage:"There are no available resources to assign.",destinationListTitle:"Assigned Resources",emptyDestinationListMessage:"There are no resources assigned to this client."}};function kt(e,t){if(1&e){var i=a.Vb();a.Ub(0,"app-transfer-lists",3,4),a.gc("itemAdded",(function(e){return a.zc(i),a.ic().addResource(e)}))("itemRemoved",(function(e){return a.zc(i),a.ic().removeResource(e)})),a.Tb()}if(2&e){var n=a.ic();a.oc("source",n.availableResources)("destination",n.clientResources)("titlePropertyName","name")("subtitlePropertyName","description")("options",a.rc(5,Ut))}}var Ct,It=((Ct=function(){function e(t,i){_classCallCheck(this,e),this._route=t,this._clientStore=i,this.clientId=""}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.clientId=this._route.parent.parent.snapshot.params.id;var t=this._clientStore.getClient(this.clientId),i=this._clientStore.getApiScopes();this._getDataSubscription=Object(Ne.a)([t,i]).pipe(Object(Fe.a)((function(e){return{client:e[0],apiScopes:e[1]}}))).subscribe((function(t){var i=t.client.apiResources,n=t.apiScopes;e.availableResources=n.filter((function(e){return!i.includes(e.name)})),e.clientResources=n.filter((function(e){return i.includes(e.name)}))}))}},{key:"ngOnDestroy",value:function(){this._getDataSubscription&&this._getDataSubscription.unsubscribe(),this._addClientApiResourceSubscription&&this._addClientApiResourceSubscription.unsubscribe(),this._deleteClientApiResourceSubscription&&this._deleteClientApiResourceSubscription.unsubscribe()}},{key:"addResource",value:function(e){this._addClientApiResourceSubscription=this._clientStore.addApiResource(this.clientId,e).subscribe()}},{key:"removeResource",value:function(e){this._deleteClientApiResourceSubscription=this._clientStore.deleteApiResource(this.clientId,e).subscribe()}}]),e}()).\u0275fac=function(e){return new(e||Ct)(a.Ob(s.a),a.Ob(Ee))},Ct.\u0275cmp=a.Ib({type:Ct,selectors:[["app-client-api-resources"]],decls:2,vars:2,consts:[["class","mt-3",4,"ngIf"],[3,"source","destination","titlePropertyName","subtitlePropertyName","options","itemAdded","itemRemoved",4,"ngIf"],[1,"mt-3"],[3,"source","destination","titlePropertyName","subtitlePropertyName","options","itemAdded","itemRemoved"],["transferList",""]],template:function(e,t){1&e&&(a.Gc(0,yt,2,0,"p",0),a.Gc(1,kt,2,6,"app-transfer-lists",1)),2&e&&(a.oc("ngIf",!t.availableResources),a.Bb(1),a.oc("ngIf",t.availableResources))},directives:[n.m,N.a],encapsulation:2}),Ct),wt=function(){return["identity"]};function _t(e,t){1&e&&(a.Ub(0,"li",1),a.Ub(1,"a",2),a.Ic(2," Identity Resources "),a.Tb(),a.Tb()),2&e&&(a.Bb(1),a.oc("routerLink",a.rc(1,wt)))}var St,xt=function(){return["api"]},Rt=function(){return["authorization_code","password","hybrid","implicit","urn:ietf:params:oauth:grant-type:device_code"]},Lt=((St=function(){function e(t,i){_classCallCheck(this,e),this._route=t,this._clientStore=i,this.client=new u.q}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._getDataSubscription=this._clientStore.getClient(this._route.parent.snapshot.params.id).subscribe((function(t){e.client=t}))}},{key:"ngOnDestroy",value:function(){this._getDataSubscription&&this._getDataSubscription.unsubscribe()}},{key:"hasAnyOf",value:function(e){return this.client.grantTypes&&this.client.grantTypes.some((function(t){return e.indexOf(t)>-1}))}}]),e}()).\u0275fac=function(e){return new(e||St)(a.Ob(s.a),a.Ob(Ee))},St.\u0275cmp=a.Ib({type:St,selectors:[["app-client-resources"]],decls:6,vars:4,consts:[[1,"nav","nav-pills"],[1,"nav-item"],["routerLinkActive","active btn btn-secondary",1,"nav-link",3,"routerLink"],["class","nav-item",4,"ngIf"]],template:function(e,t){1&e&&(a.Ub(0,"ul",0),a.Ub(1,"li",1),a.Ub(2,"a",2),a.Ic(3," API Resources "),a.Tb(),a.Tb(),a.Gc(4,_t,3,2,"li",3),a.Tb(),a.Pb(5,"router-outlet")),2&e&&(a.Bb(2),a.oc("routerLink",a.rc(2,xt)),a.Bb(2),a.oc("ngIf",t.hasAnyOf(a.rc(3,Rt))))},directives:[s.g,s.f,n.m,s.i],encapsulation:2}),St);function Mt(e,t){1&e&&(a.Ub(0,"p",2),a.Ic(1,"Loading client resources..."),a.Tb())}var At=function(){return{sourceListTitle:"Available Resources",emptySourceListMessage:"There are no available resources to assign.",destinationListTitle:"Assigned Resources",emptyDestinationListMessage:"There are no resources assigned to this client."}};function Bt(e,t){if(1&e){var i=a.Vb();a.Ub(0,"app-transfer-lists",3,4),a.gc("itemAdded",(function(e){return a.zc(i),a.ic().addResource(e)}))("itemRemoved",(function(e){return a.zc(i),a.ic().removeResource(e)})),a.Tb()}if(2&e){var n=a.ic();a.oc("source",n.availableResources)("destination",n.clientResources)("titlePropertyName","name")("subtitlePropertyName","description")("options",a.rc(5,At))}}var Ot,zt,Pt=((Ot=function(){function e(t,i){_classCallCheck(this,e),this._route=t,this._clientStore=i,this.clientId=""}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.clientId=this._route.parent.parent.snapshot.params.id;var t=this._clientStore.getClient(this.clientId),i=this._clientStore.getIdentityResources();this._getDataSubscription=Object(Ne.a)([t,i]).pipe(Object(Fe.a)((function(e){return{client:e[0],identityResources:e[1]}}))).subscribe((function(t){var i=t.client.identityResources,n=t.identityResources;e.availableResources=n.filter((function(e){return!i.includes(e.name)})),e.clientResources=n.filter((function(e){return i.includes(e.name)}))}))}},{key:"ngOnDestroy",value:function(){this._getDataSubscription&&this._getDataSubscription.unsubscribe(),this._addClientIdentityResourceSubscription&&this._addClientIdentityResourceSubscription.unsubscribe(),this._removeClientIdentityResourceSubscription&&this._removeClientIdentityResourceSubscription.unsubscribe()}},{key:"addResource",value:function(e){this._addClientIdentityResourceSubscription=this._clientStore.addIdentityResource(this.clientId,e).subscribe()}},{key:"removeResource",value:function(e){this._removeClientIdentityResourceSubscription=this._clientStore.deleteIdentityResource(this.clientId,e).subscribe()}}]),e}()).\u0275fac=function(e){return new(e||Ot)(a.Ob(s.a),a.Ob(Ee))},Ot.\u0275cmp=a.Ib({type:Ot,selectors:[["app-client-identity-resources"]],decls:2,vars:2,consts:[["class","mt-3",4,"ngIf"],[3,"source","destination","titlePropertyName","subtitlePropertyName","options","itemAdded","itemRemoved",4,"ngIf"],[1,"mt-3"],[3,"source","destination","titlePropertyName","subtitlePropertyName","options","itemAdded","itemRemoved"],["transferList",""]],template:function(e,t){1&e&&(a.Gc(0,Mt,2,0,"p",0),a.Gc(1,Bt,2,6,"app-transfer-lists",1)),2&e&&(a.oc("ngIf",!t.availableResources),a.Bb(1),a.oc("ngIf",t.availableResources))},directives:[n.m,N.a],encapsulation:2}),Ot),Gt=function(){return["tokens"]},Vt=function(){return["claims"]},qt=function(){return["grant-types"]},Dt=((zt=function(){function e(t,i){_classCallCheck(this,e),this._route=t,this._clientStore=i,this.client=new u.q}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._getDataSubscription=this._clientStore.getClient(this._route.parent.snapshot.params.id).subscribe((function(t){e.client=t}))}},{key:"ngOnDestroy",value:function(){this._getDataSubscription&&this._getDataSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||zt)(a.Ob(s.a),a.Ob(Ee))},zt.\u0275cmp=a.Ib({type:zt,selectors:[["app-client-advanced"]],decls:11,vars:6,consts:[[1,"nav","nav-pills"],[1,"nav-item"],["routerLinkActive","active btn btn-secondary",1,"nav-link",3,"routerLink"]],template:function(e,t){1&e&&(a.Ub(0,"ul",0),a.Ub(1,"li",1),a.Ub(2,"a",2),a.Ic(3," Tokens "),a.Tb(),a.Tb(),a.Ub(4,"li",1),a.Ub(5,"a",2),a.Ic(6," Claims "),a.Tb(),a.Tb(),a.Ub(7,"li",1),a.Ub(8,"a",2),a.Ic(9," Grant Types "),a.Tb(),a.Tb(),a.Tb(),a.Pb(10,"router-outlet")),2&e&&(a.Bb(2),a.oc("routerLink",a.rc(3,Gt)),a.Bb(3),a.oc("routerLink",a.rc(4,Vt)),a.Bb(3),a.oc("routerLink",a.rc(5,qt)))},directives:[s.g,s.f,s.i],encapsulation:2}),zt);function Nt(e,t){1&e&&(a.Ub(0,"p",2),a.Ic(1," Loading client tokens...\n"),a.Tb())}function Ft(e,t){if(1&e&&(a.Ub(0,"span",10),a.Ub(1,"i",11),a.Ic(2,"timer"),a.Tb(),a.Ic(3),a.Tb()),2&e){var i=a.ic().value,n=a.ic(2);a.Bb(3),a.Kc(" ",n.utilities.secondsToText(i)," ")}}function jt(e,t){if(1&e&&a.Gc(0,Ft,4,1,"span",9),2&e){var i=t.value;a.oc("ngIf",i&&""!==i)}}function Et(e,t){1&e&&(a.Ub(0,"div",23),a.Ic(1," Field 'Identity Token Lifetime' is required. "),a.Tb())}var Ht=function(e){return{active:e}},Kt=function(e){return{value:e}};function Jt(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",13),a.Ub(2,"i",14),a.Ic(3," info "),a.Tb(),a.Ic(4," Identity Token Lifetime (sec) (*) "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"div",16),a.Ub(7,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.identityTokenLifetime=e.utilities.minutesToSeconds(5)})),a.Ub(8,"span",18),a.Ic(9," 5 mins "),a.Tb(),a.Tb(),a.Ub(10,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.identityTokenLifetime=e.utilities.minutesToSeconds(10)})),a.Ub(11,"span",18),a.Ic(12," 10 mins "),a.Tb(),a.Tb(),a.Ub(13,"input",19,20),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.identityTokenLifetime=e})),a.Tb(),a.Tb(),a.Qb(15,21),a.Gc(16,Et,2,0,"div",22),a.Tb(),a.Tb()}if(2&e){var n=a.xc(14);a.ic();var c=a.xc(3),o=a.xc(1),r=a.ic();a.Bb(8),a.oc("ngClass",a.sc(6,Ht,r.client.identityTokenLifetime===r.utilities.minutesToSeconds(5))),a.Bb(3),a.oc("ngClass",a.sc(8,Ht,r.client.identityTokenLifetime===r.utilities.minutesToSeconds(10))),a.Bb(2),a.oc("ngModel",r.client.identityTokenLifetime),a.Bb(2),a.oc("ngTemplateOutlet",c)("ngTemplateOutletContext",a.sc(10,Kt,r.client.identityTokenLifetime)),a.Bb(1),a.oc("ngIf",o.submitted&&n.invalid)}}function Wt(e,t){1&e&&(a.Ub(0,"div",23),a.Ic(1," Field 'Access Token Lifetime' is required. "),a.Tb())}function Qt(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",24),a.Ub(2,"i",25),a.Ic(3," info "),a.Tb(),a.Ic(4," Access Token Lifetime (sec) (*) "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"div",16),a.Ub(7,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.accessTokenLifetime=e.utilities.minutesToSeconds(15)})),a.Ub(8,"span",18),a.Ic(9," 15 mins "),a.Tb(),a.Tb(),a.Ub(10,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.accessTokenLifetime=e.utilities.minutesToSeconds(30)})),a.Ub(11,"span",18),a.Ic(12," 30 mins "),a.Tb(),a.Tb(),a.Ub(13,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.accessTokenLifetime=e.utilities.hoursToSeconds(1)})),a.Ub(14,"span",18),a.Ic(15," 1 hr "),a.Tb(),a.Tb(),a.Ub(16,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.accessTokenLifetime=e.utilities.hoursToSeconds(5)})),a.Ub(17,"span",18),a.Ic(18," 5 hr "),a.Tb(),a.Tb(),a.Ub(19,"input",26,27),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.accessTokenLifetime=e})),a.Tb(),a.Tb(),a.Qb(21,21),a.Gc(22,Wt,2,0,"div",22),a.Tb(),a.Tb()}if(2&e){var n=a.xc(20);a.ic();var c=a.xc(3),o=a.xc(1),r=a.ic();a.Bb(8),a.oc("ngClass",a.sc(8,Ht,r.client.accessTokenLifetime===r.utilities.minutesToSeconds(15))),a.Bb(3),a.oc("ngClass",a.sc(10,Ht,r.client.accessTokenLifetime===r.utilities.minutesToSeconds(30))),a.Bb(3),a.oc("ngClass",a.sc(12,Ht,r.client.accessTokenLifetime===r.utilities.hoursToSeconds(1))),a.Bb(3),a.oc("ngClass",a.sc(14,Ht,r.client.accessTokenLifetime===r.utilities.hoursToSeconds(5))),a.Bb(2),a.oc("ngModel",r.client.accessTokenLifetime),a.Bb(2),a.oc("ngTemplateOutlet",c)("ngTemplateOutletContext",a.sc(16,Kt,r.client.accessTokenLifetime)),a.Bb(1),a.oc("ngIf",o.submitted&&n.invalid)}}function $t(e,t){1&e&&(a.Ub(0,"div",23),a.Ic(1," Field 'Access Token Lifetime' is required. "),a.Tb())}function Xt(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",28),a.Ub(2,"i",29),a.Ic(3," info "),a.Tb(),a.Ic(4," Absolute Refresh Token Lifetime (sec) (*) "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"div",16),a.Ub(7,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.absoluteRefreshTokenLifetime=e.utilities.daysToSeconds(1)})),a.Ub(8,"span",18),a.Ic(9," 1 day "),a.Tb(),a.Tb(),a.Ub(10,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.absoluteRefreshTokenLifetime=e.utilities.daysToSeconds(15)})),a.Ub(11,"span",18),a.Ic(12," 15 days "),a.Tb(),a.Tb(),a.Ub(13,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.absoluteRefreshTokenLifetime=e.utilities.daysToSeconds(30)})),a.Ub(14,"span",18),a.Ic(15," 30 days "),a.Tb(),a.Tb(),a.Ub(16,"input",30,31),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.absoluteRefreshTokenLifetime=e})),a.Tb(),a.Tb(),a.Qb(18,21),a.Gc(19,$t,2,0,"div",22),a.Tb(),a.Tb()}if(2&e){var n=a.xc(17);a.ic();var c=a.xc(3),o=a.xc(1),r=a.ic();a.Bb(8),a.oc("ngClass",a.sc(7,Ht,r.client.absoluteRefreshTokenLifetime===r.utilities.daysToSeconds(1))),a.Bb(3),a.oc("ngClass",a.sc(9,Ht,r.client.absoluteRefreshTokenLifetime===r.utilities.daysToSeconds(15))),a.Bb(3),a.oc("ngClass",a.sc(11,Ht,r.client.absoluteRefreshTokenLifetime===r.utilities.daysToSeconds(30))),a.Bb(2),a.oc("ngModel",r.client.absoluteRefreshTokenLifetime),a.Bb(2),a.oc("ngTemplateOutlet",c)("ngTemplateOutletContext",a.sc(13,Kt,r.client.absoluteRefreshTokenLifetime)),a.Bb(1),a.oc("ngIf",o.submitted&&n.invalid)}}function Yt(e,t){1&e&&(a.Ub(0,"div",23),a.Ic(1," Field 'Sliding Refresh Token Lifetime' is required. "),a.Tb())}function Zt(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",32),a.Ub(2,"i",33),a.Ic(3," info "),a.Tb(),a.Ic(4," Sliding Refresh Token Lifetime (sec) (*) "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"div",16),a.Ub(7,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.slidingRefreshTokenLifetime=e.utilities.daysToSeconds(1)})),a.Ub(8,"span",18),a.Ic(9," 1 day "),a.Tb(),a.Tb(),a.Ub(10,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.slidingRefreshTokenLifetime=e.utilities.daysToSeconds(15)})),a.Ub(11,"span",18),a.Ic(12," 15 days "),a.Tb(),a.Tb(),a.Ub(13,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.slidingRefreshTokenLifetime=e.utilities.daysToSeconds(30)})),a.Ub(14,"span",18),a.Ic(15," 30 days "),a.Tb(),a.Tb(),a.Ub(16,"input",34,35),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.slidingRefreshTokenLifetime=e})),a.Tb(),a.Tb(),a.Qb(18,21),a.Gc(19,Yt,2,0,"div",22),a.Tb(),a.Tb()}if(2&e){var n=a.xc(17);a.ic();var c=a.xc(3),o=a.xc(1),r=a.ic();a.Bb(8),a.oc("ngClass",a.sc(7,Ht,r.client.slidingRefreshTokenLifetime===r.utilities.daysToSeconds(1))),a.Bb(3),a.oc("ngClass",a.sc(9,Ht,r.client.slidingRefreshTokenLifetime===r.utilities.daysToSeconds(15))),a.Bb(3),a.oc("ngClass",a.sc(11,Ht,r.client.slidingRefreshTokenLifetime===r.utilities.daysToSeconds(30))),a.Bb(2),a.oc("ngModel",r.client.slidingRefreshTokenLifetime),a.Bb(2),a.oc("ngTemplateOutlet",c)("ngTemplateOutletContext",a.sc(13,Kt,r.client.slidingRefreshTokenLifetime)),a.Bb(1),a.oc("ngIf",o.submitted&&n.invalid)}}function ei(e,t){1&e&&(a.Ub(0,"div",23),a.Ic(1," Field 'Authorization Code Lifetime' is required. "),a.Tb())}function ti(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",36),a.Ub(2,"i",37),a.Ic(3," info "),a.Tb(),a.Ic(4," Authorization Code Lifetime (sec) (*) "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"div",16),a.Ub(7,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.authorizationCodeLifetime=e.utilities.minutesToSeconds(5)})),a.Ub(8,"span",18),a.Ic(9," 5 mins "),a.Tb(),a.Tb(),a.Ub(10,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.authorizationCodeLifetime=e.utilities.minutesToSeconds(10)})),a.Ub(11,"span",18),a.Ic(12," 10 mins "),a.Tb(),a.Tb(),a.Ub(13,"input",38,39),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.authorizationCodeLifetime=e})),a.Tb(),a.Tb(),a.Qb(15,21),a.Gc(16,ei,2,0,"div",22),a.Tb(),a.Tb()}if(2&e){var n=a.xc(14);a.ic();var c=a.xc(3),o=a.xc(1),r=a.ic();a.Bb(8),a.oc("ngClass",a.sc(6,Ht,r.client.authorizationCodeLifetime===r.utilities.minutesToSeconds(5))),a.Bb(3),a.oc("ngClass",a.sc(8,Ht,r.client.authorizationCodeLifetime===r.utilities.minutesToSeconds(10))),a.Bb(2),a.oc("ngModel",r.client.authorizationCodeLifetime),a.Bb(2),a.oc("ngTemplateOutlet",c)("ngTemplateOutletContext",a.sc(10,Kt,r.client.authorizationCodeLifetime)),a.Bb(1),a.oc("ngIf",o.submitted&&n.invalid)}}function ii(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",40),a.Ub(2,"i",41),a.Ic(3," info "),a.Tb(),a.Ic(4," Consent Token Lifetime (sec) "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"div",16),a.Ub(7,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.consentLifetime=e.utilities.daysToSeconds(7)})),a.Ub(8,"span",18),a.Ic(9," 1 wk "),a.Tb(),a.Tb(),a.Ub(10,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.consentLifetime=e.utilities.monthsToSeconds(1)})),a.Ub(11,"span",18),a.Ic(12," 1 mo "),a.Tb(),a.Tb(),a.Ub(13,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.consentLifetime=e.utilities.yearsToSeconds(1)})),a.Ub(14,"span",18),a.Ic(15," 1 yr "),a.Tb(),a.Tb(),a.Ub(16,"span",17),a.gc("click",(function(){return a.zc(i),a.ic(2).client.consentLifetime=void 0})),a.Ub(17,"span",42),a.Ic(18," \u221e "),a.Tb(),a.Tb(),a.Ub(19,"input",43,44),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.consentLifetime=e})),a.Tb(),a.Tb(),a.Qb(21,21),a.Tb(),a.Tb()}if(2&e){a.ic();var n=a.xc(3),c=a.ic();a.Bb(8),a.oc("ngClass",a.sc(7,Ht,c.client.consentLifetime===c.utilities.daysToSeconds(7))),a.Bb(3),a.oc("ngClass",a.sc(9,Ht,c.client.consentLifetime===c.utilities.monthsToSeconds(1))),a.Bb(3),a.oc("ngClass",a.sc(11,Ht,c.client.consentLifetime===c.utilities.yearsToSeconds(1))),a.Bb(3),a.oc("ngClass",a.sc(13,Ht,void 0===c.client.consentLifetime)),a.Bb(2),a.oc("ngModel",c.client.consentLifetime),a.Bb(2),a.oc("ngTemplateOutlet",n)("ngTemplateOutletContext",a.sc(15,Kt,c.client.consentLifetime))}}function ni(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",45),a.Ub(2,"i",46),a.Ic(3," info "),a.Tb(),a.Ic(4," SSO Lifetime (sec) "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"div",16),a.Ub(7,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.userSsoLifetime=e.utilities.hoursToSeconds(1)})),a.Ub(8,"span",18),a.Ic(9," 1 hr "),a.Tb(),a.Tb(),a.Ub(10,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.userSsoLifetime=e.utilities.hoursToSeconds(12)})),a.Ub(11,"span",18),a.Ic(12," 12 hr "),a.Tb(),a.Tb(),a.Ub(13,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.userSsoLifetime=e.utilities.daysToSeconds(1)})),a.Ub(14,"span",18),a.Ic(15," 1 d "),a.Tb(),a.Tb(),a.Ub(16,"input",47,48),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.userSsoLifetime=e})),a.Tb(),a.Tb(),a.Qb(18,21),a.Tb(),a.Tb()}if(2&e){a.ic();var n=a.xc(3),c=a.ic();a.Bb(8),a.oc("ngClass",a.sc(6,Ht,c.client.userSsoLifetime===c.utilities.hoursToSeconds(1))),a.Bb(3),a.oc("ngClass",a.sc(8,Ht,c.client.userSsoLifetime===c.utilities.hoursToSeconds(12))),a.Bb(3),a.oc("ngClass",a.sc(10,Ht,c.client.userSsoLifetime===c.utilities.daysToSeconds(1))),a.Bb(2),a.oc("ngModel",c.client.userSsoLifetime),a.Bb(2),a.oc("ngTemplateOutlet",n)("ngTemplateOutletContext",a.sc(12,Kt,c.client.userSsoLifetime))}}function ci(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",49),a.Ub(2,"i",50),a.Ic(3," info "),a.Tb(),a.Ic(4," Device Code Lifetime (sec) "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"div",16),a.Ub(7,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.deviceCodeLifetime=e.utilities.minutesToSeconds(5)})),a.Ub(8,"span",18),a.Ic(9," 5 mins "),a.Tb(),a.Tb(),a.Ub(10,"span",17),a.gc("click",(function(){a.zc(i);var e=a.ic(2);return e.client.deviceCodeLifetime=e.utilities.minutesToSeconds(10)})),a.Ub(11,"span",18),a.Ic(12," 10 mins "),a.Tb(),a.Tb(),a.Ub(13,"input",51,52),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.deviceCodeLifetime=e})),a.Tb(),a.Tb(),a.Qb(15,21),a.Tb(),a.Tb()}if(2&e){a.ic();var n=a.xc(3),c=a.ic();a.Bb(8),a.oc("ngClass",a.sc(5,Ht,c.client.deviceCodeLifetime===c.utilities.minutesToSeconds(5))),a.Bb(3),a.oc("ngClass",a.sc(7,Ht,c.client.deviceCodeLifetime===c.utilities.minutesToSeconds(10))),a.Bb(2),a.oc("ngModel",c.client.deviceCodeLifetime),a.Bb(2),a.oc("ngTemplateOutlet",n)("ngTemplateOutletContext",a.sc(9,Kt,c.client.deviceCodeLifetime))}}function oi(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",53),a.Ub(2,"i",54),a.Ic(3," info "),a.Tb(),a.Ic(4," Front Channel Logout URI "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"input",55,56),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.frontChannelLogoutUri=e})),a.Tb(),a.Tb(),a.Tb()}if(2&e){var n=a.ic(2);a.Bb(6),a.oc("ngModel",n.client.frontChannelLogoutUri)}}function ri(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",57),a.Ub(2,"i",58),a.Ic(3," info "),a.Tb(),a.Ic(4," Back Channel Logout Uri "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"input",59,60),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.backChannelLogoutUri=e})),a.Tb(),a.Tb(),a.Tb()}if(2&e){var n=a.ic(2);a.Bb(6),a.oc("ngModel",n.client.backChannelLogoutUri)}}function li(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",61),a.Ub(2,"i",62),a.Ic(3," info "),a.Tb(),a.Ic(4," User Code Generator Type "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"input",63,64),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.userCodeType=e})),a.Tb(),a.Tb(),a.Tb()}if(2&e){var n=a.ic(2);a.Bb(6),a.oc("ngModel",n.client.userCodeType)}}function si(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",65),a.Ub(2,"i",66),a.Ic(3," info "),a.Tb(),a.Ic(4," Pair Wise Subject Salt "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"input",67,68),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.pairWiseSubjectSalt=e})),a.Tb(),a.Tb(),a.Tb()}if(2&e){var n=a.ic(2);a.Bb(6),a.oc("ngModel",n.client.pairWiseSubjectSalt)}}function ai(e,t){1&e&&(a.Ub(0,"div",23),a.Ic(1," Field 'Access Token Type' is required. "),a.Tb())}function ui(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",69),a.Ub(2,"i",70),a.Ic(3," info "),a.Tb(),a.Ic(4," Access Token Type "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"select",71,72),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.accessTokenType=e})),a.Ub(8,"option",73),a.Ic(9,"Jwt"),a.Tb(),a.Ub(10,"option",74),a.Ic(11,"Reference"),a.Tb(),a.Tb(),a.Gc(12,ai,2,0,"div",22),a.Tb(),a.Tb()}if(2&e){var n=a.xc(7);a.ic();var c=a.xc(1),o=a.ic();a.Bb(6),a.oc("ngModel",o.client.accessTokenType),a.Bb(6),a.oc("ngIf",c.submitted&&n.invalid)}}function di(e,t){1&e&&(a.Ub(0,"div",23),a.Ic(1," Field 'Refresh Token Usage' is required. "),a.Tb())}function bi(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",75),a.Ub(2,"i",76),a.Ic(3," info "),a.Tb(),a.Ic(4," Refresh Token Usage "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"select",77,78),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.refreshTokenUsage=e})),a.Ub(8,"option",79),a.Ic(9," ReUse "),a.Tb(),a.Ub(10,"option",80),a.Ic(11," One Time Only "),a.Tb(),a.Tb(),a.Gc(12,di,2,0,"div",22),a.Tb(),a.Tb()}if(2&e){var n=a.xc(7);a.ic();var c=a.xc(1),o=a.ic();a.Bb(6),a.oc("ngModel",o.client.refreshTokenUsage),a.Bb(6),a.oc("ngIf",c.submitted&&n.invalid)}}function fi(e,t){1&e&&(a.Ub(0,"div",23),a.Ic(1," Field 'Refresh Token Expiration' is required. "),a.Tb())}function mi(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",81),a.Ub(2,"i",82),a.Ic(3," info "),a.Tb(),a.Ic(4," Refresh Token Expiration "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"select",83,84),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.refreshTokenExpiration=e})),a.Ub(8,"option",85),a.Ic(9," Sliding "),a.Tb(),a.Ub(10,"option",86),a.Ic(11," Absolute "),a.Tb(),a.Tb(),a.Gc(12,fi,2,0,"div",22),a.Tb(),a.Tb()}if(2&e){var n=a.xc(7);a.ic();var c=a.xc(1),o=a.ic();a.Bb(6),a.oc("ngModel",o.client.refreshTokenExpiration),a.Bb(6),a.oc("ngIf",c.submitted&&n.invalid)}}function pi(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",87),a.Ub(2,"i",88),a.Ic(3," info "),a.Tb(),a.Ic(4," Front Channel Logout Session Required "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"div",89),a.Ub(7,"input",90,91),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.frontChannelLogoutSessionRequired=e})),a.Tb(),a.Pb(9,"label",92),a.Tb(),a.Tb(),a.Tb()}if(2&e){var n=a.ic(2);a.Bb(7),a.oc("ngModel",n.client.frontChannelLogoutSessionRequired)}}function gi(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",93),a.Ub(2,"i",94),a.Ic(3," info "),a.Tb(),a.Ic(4," Allow Access Tokens Via Browser "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"div",89),a.Ub(7,"input",95,96),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.allowAccessTokensViaBrowser=e})),a.Tb(),a.Pb(9,"label",97),a.Tb(),a.Tb(),a.Tb()}if(2&e){var n=a.ic(2);a.Bb(7),a.oc("ngModel",n.client.allowAccessTokensViaBrowser)}}function hi(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",98),a.Ub(2,"i",99),a.Ic(3," info "),a.Tb(),a.Ic(4," Back Channel Logout Session Required "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"div",89),a.Ub(7,"input",100,101),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.backChannelLogoutSessionRequired=e})),a.Tb(),a.Pb(9,"label",102),a.Tb(),a.Tb(),a.Tb()}if(2&e){var n=a.ic(2);a.Bb(7),a.oc("ngModel",n.client.backChannelLogoutSessionRequired)}}function vi(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",103),a.Ub(2,"i",104),a.Ic(3," info "),a.Tb(),a.Ic(4," Require PKCE "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"div",89),a.Ub(7,"input",105,106),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.requirePkce=e})),a.Tb(),a.Pb(9,"label",107),a.Tb(),a.Tb(),a.Tb()}if(2&e){var n=a.ic(2);a.Bb(7),a.oc("ngModel",n.client.requirePkce)}}function Ti(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",108),a.Ub(2,"i",109),a.Ic(3," info "),a.Tb(),a.Ic(4," Always Include User Claims In Id Token "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"div",89),a.Ub(7,"input",110,111),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.alwaysIncludeUserClaimsInIdToken=e})),a.Tb(),a.Pb(9,"label",112),a.Tb(),a.Tb(),a.Tb()}if(2&e){var n=a.ic(2);a.Bb(7),a.oc("ngModel",n.client.alwaysIncludeUserClaimsInIdToken)}}function yi(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",113),a.Ub(2,"i",114),a.Ic(3," info "),a.Tb(),a.Ic(4," Include JWT Id "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"div",89),a.Ub(7,"input",115,116),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.includeJwtId=e})),a.Tb(),a.Pb(9,"label",117),a.Tb(),a.Tb(),a.Tb()}if(2&e){var n=a.ic(2);a.Bb(7),a.oc("ngModel",n.client.includeJwtId)}}function Ui(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",118),a.Ub(2,"i",119),a.Ic(3," info "),a.Tb(),a.Ic(4," Allow PlainText PKCE "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"div",89),a.Ub(7,"input",120,121),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.allowPlainTextPkce=e})),a.Tb(),a.Pb(9,"label",122),a.Tb(),a.Tb(),a.Tb()}if(2&e){var n=a.ic(2);a.Bb(7),a.oc("ngModel",n.client.allowPlainTextPkce)}}function ki(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",123),a.Ub(2,"i",124),a.Ic(3," info "),a.Tb(),a.Ic(4," Allow Offline Access "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"div",89),a.Ub(7,"input",125,126),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.allowOfflineAccess=e})),a.Tb(),a.Pb(9,"label",127),a.Tb(),a.Tb(),a.Tb()}if(2&e){var n=a.ic(2);a.Bb(7),a.oc("ngModel",n.client.allowOfflineAccess)}}function Ci(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",12),a.Ub(1,"label",128),a.Ub(2,"i",129),a.Ic(3," info "),a.Tb(),a.Ic(4," Update Access Token Claims On Refresh "),a.Tb(),a.Ub(5,"div",15),a.Ub(6,"div",89),a.Ub(7,"input",130,131),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).client.updateAccessTokenClaimsOnRefresh=e})),a.Tb(),a.Pb(9,"label",132),a.Tb(),a.Tb(),a.Tb()}if(2&e){var n=a.ic(2);a.Bb(7),a.oc("ngModel",n.client.updateAccessTokenClaimsOnRefresh)}}var Ii=function(e){return{"was-validated":e}},wi=function(){return["authorization_code","password","hybrid","implicit","urn:ietf:params:oauth:grant-type:device_code"]},_i=function(){return["authorization_code","password","client_credentials","hybrid","implicit","urn:ietf:params:oauth:grant-type:device_code"]},Si=function(){return["password","hybrid","urn:ietf:params:oauth:grant-type:device_code","authorization_code","implicit"]},xi=function(){return["authorization_code","hybrid","implicit"]},Ri=function(){return["authorization_code","hybrid","implicit","urn:ietf:params:oauth:grant-type:device_code"]},Li=function(){return["urn:ietf:params:oauth:grant-type:device_code"]},Mi=function(){return["hybrid"]},Ai=function(){return["authorization_code","client_credentials"]},Bi=function(){return["password","hybrid","urn:ietf:params:oauth:grant-type:device_code","implicit","authorization_code"]},Oi=function(){return["hybrid","implicit"]},zi=function(){return["authorization_code","hybrid"]},Pi=function(){return["password","hybrid","urn:ietf:params:oauth:grant-type:device_code"]};function Gi(e,t){if(1&e){var i=a.Vb();a.Ub(0,"form",3,4),a.gc("ngSubmit",(function(){a.zc(i);var e=a.xc(1),t=a.ic();return e.form.valid&&t.update()})),a.Gc(2,jt,1,1,"ng-template",null,5,a.Hc),a.Gc(4,Jt,17,12,"div",6),a.Gc(5,Qt,23,18,"div",6),a.Gc(6,Xt,20,15,"div",6),a.Gc(7,Zt,20,15,"div",6),a.Gc(8,ti,17,12,"div",6),a.Gc(9,ii,22,17,"div",6),a.Gc(10,ni,19,14,"div",6),a.Gc(11,ci,16,11,"div",6),a.Gc(12,oi,8,1,"div",6),a.Gc(13,ri,8,1,"div",6),a.Gc(14,li,8,1,"div",6),a.Gc(15,si,8,1,"div",6),a.Gc(16,ui,13,2,"div",6),a.Gc(17,bi,13,2,"div",6),a.Gc(18,mi,13,2,"div",6),a.Gc(19,pi,10,1,"div",6),a.Gc(20,gi,10,1,"div",6),a.Gc(21,hi,10,1,"div",6),a.Gc(22,vi,10,1,"div",6),a.Gc(23,Ti,10,1,"div",6),a.Gc(24,yi,10,1,"div",6),a.Gc(25,Ui,10,1,"div",6),a.Gc(26,ki,10,1,"div",6),a.Gc(27,Ci,10,1,"div",6),a.Ub(28,"div",7),a.Ub(29,"div"),a.Ub(30,"button",8),a.Ic(31," Save Changes "),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){var n=a.xc(1),c=a.ic();a.oc("ngClass",a.sc(25,Ii,n.submitted)),a.Bb(4),a.oc("ngIf",c.hasAnyOf(a.rc(27,wi))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(28,_i))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(29,Si))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(30,Si))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(31,xi))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(32,Ri))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(33,Ri))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(34,Li))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(35,xi))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(36,Mi))||c.hasAllOf(a.rc(37,Ai))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(38,Li))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(39,_i))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(40,_i))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(41,Si))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(42,Bi))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(43,xi))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(44,Oi))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(45,Mi))||c.hasAllOf(a.rc(46,Ai))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(47,zi))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(48,wi))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(49,_i))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(50,zi))||c.hasAllOf(a.rc(51,Ai))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(52,Pi))||c.hasAllOf(a.rc(53,Ai))),a.Bb(1),a.oc("ngIf",c.hasAnyOf(a.rc(54,Pi))||c.hasAllOf(a.rc(55,Ai)))}}var Vi,qi=((Vi=function(){function e(t,i,n,c){_classCallCheck(this,e),this._route=t,this._clientStore=i,this.utilities=n,this._toast=c}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this._getDataSubscription=this._clientStore.getClient(this._route.parent.parent.snapshot.params.id).subscribe((function(t){e.client=t}))}},{key:"update",value:function(){var e=this;this._clientStore.updateClient(this.client).subscribe((function(t){e._toast.showSuccess("Client '".concat(e.client.clientName,"' was updated successfully."))}))}},{key:"hasAnyOf",value:function(e){return this.client.grantTypes&&this.client.grantTypes.some((function(t){return e.indexOf(t)>-1}))}},{key:"hasAllOf",value:function(e){var t=this,i=!0;return this.client.grantTypes&&e.forEach((function(e){t.client.grantTypes.includes(e)||(i=!1)})),i}},{key:"ngOnDestroy",value:function(){this._getDataSubscription&&this._getDataSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Vi)(a.Ob(s.a),a.Ob(Ee),a.Ob(I.a),a.Ob(Y.a))},Vi.\u0275cmp=a.Ib({type:Vi,selectors:[["app-client-tokens"]],decls:2,vars:2,consts:[["class","mt-3",4,"ngIf"],["class","needs-validation mt-3","novalidate","",3,"ngClass","ngSubmit",4,"ngIf"],[1,"mt-3"],["novalidate","",1,"needs-validation","mt-3",3,"ngClass","ngSubmit"],["form","ngForm"],["secondsTextContent",""],["class","form-group row",4,"ngIf"],[1,"form-group"],["type","submit",1,"btn","btn-primary","m-r-5"],["class","text-muted",4,"ngIf"],[1,"text-muted"],[1,"material-icons","align-middle"],[1,"form-group","row"],["for","client-identity-token-lifetime",1,"col-sm-3","col-form-label"],["title","Lifetime of identity token in seconds.",1,"material-icons","align-middle"],[1,"col-sm-9"],[1,"input-group"],[1,"input-group-prepend","cursor-pointer",3,"click"],[1,"input-group-text","btn","btn-secondary",2,"font-size","12px",3,"ngClass"],["type","number","min","0","id","client-identity-token-lifetime","name","client-identity-token-lifetime","required","",1,"form-control",3,"ngModel","ngModelChange"],["identityTokenLifetime","ngModel"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","form-control-feedback text-danger",4,"ngIf"],[1,"form-control-feedback","text-danger"],["for","client-access-token-lifetime",1,"col-sm-3","col-form-label"],["title","Lifetime of access token in seconds.",1,"material-icons","align-middle"],["type","number","min","0","id","client-access-token-lifetime","name","client-access-token-lifetime","required","",1,"form-control",3,"ngModel","ngModelChange"],["accessTokenLifetime","ngModel"],["for","absolute-refresh-token-lifetime",1,"col-sm-3","col-form-label"],["title","Maximum lifetime of a refresh token in seconds.",1,"material-icons","align-middle"],["type","number","min","0","id","absolute-refresh-token-lifetime","name","absolute-refresh-token-lifetime","required","",1,"form-control",3,"ngModel","ngModelChange"],["absoluteRefreshTokenLifetime","ngModel"],["for","sliding-refresh-token-lifetime",1,"col-sm-3","col-form-label"],["title","Sliding lifetime of a refresh token in seconds.",1,"material-icons","align-middle"],["type","number","min","0","id","sliding-refresh-token-lifetime","name","sliding-refresh-token-lifetime","required","",1,"form-control",3,"ngModel","ngModelChange"],["slidingRefreshTokenLifetime","ngModel"],["for","client-authorization-token-lifetime",1,"col-sm-3","col-form-label"],["title","Lifetime of authorization code in seconds.",1,"material-icons","align-middle"],["type","number","min","0","id","client-authorization-token-lifetime","name","client-authorization-token-lifetime","required","",1,"form-control",3,"ngModel","ngModelChange"],["authorizationCodeLifetime","ngModel"],["for","client-consent-token-lifetime",1,"col-sm-3","col-form-label"],["title","Lifetime of a user consent in seconds.",1,"material-icons","align-middle"],[1,"input-group-text","font-12","btn","btn-secondary",2,"font-size","12px",3,"ngClass"],["type","number","min","0","id","client-consent-token-lifetime","name","client-consent-token-lifetime",1,"form-control",3,"ngModel","ngModelChange"],["consentTokenLifetime","ngModel"],["for","client-sso-lifetime",1,"col-sm-3","col-form-label"],["title","The maximum duration (in seconds) since the last time the user authenticated.",1,"material-icons","align-middle"],["type","number","min","0","id","client-sso-lifetime","name","client-sso-lifetime",1,"form-control",3,"ngModel","ngModelChange"],["userSsoLifetime","ngModel"],["for","client-device-code-lifetime",1,"col-sm-3","col-form-label"],["title","Sets the device code lifetime.",1,"material-icons","align-middle"],["type","number","min","0","id","client-device-code-lifetime","name","client-device-code-lifetime",1,"form-control",3,"ngModel","ngModelChange"],["deviceCodeLifetime","ngModel"],["for","client-front-channel-logout-uri",1,"col-sm-3","col-form-label"],["title","Specifies logout URI at client for HTTP front-channel based logout.",1,"material-icons","align-middle"],["type","text","id","client-front-channel-logout-uri","name","client-front-channel-logout-uri",1,"form-control",3,"ngModel","ngModelChange"],["frontChannelLogoutUri","ngModel"],["for","client-back-channel-logout-uri",1,"col-sm-3","col-form-label"],["title","Specifies logout URI at client for HTTP back-channel based logout.",1,"material-icons","align-middle"],["type","text","id","client-back-channel-logout-uri","name","client-back-channel-logout-uri",1,"form-control",3,"ngModel","ngModelChange"],["backChannelLogoutUri","ngModel"],["for","client-user-code-generator-type",1,"col-sm-3","col-form-label"],["title","Sets the type of the device flow user code.",1,"material-icons","align-middle"],["type","text","id","client-user-code-generator-type","name","client-user-code-generator-type",1,"form-control",3,"ngModel","ngModelChange"],["userCodeType","ngModel"],["for","client-pair-wise-subject-salt",1,"col-sm-3","col-form-label"],["title","Sets a salt value used in pair-wise subjectId generation for users of this client.",1,"material-icons","align-middle"],["type","text","id","client-pair-wise-subject-salt","name","client-pair-wise-subject-salt",1,"form-control",3,"ngModel","ngModelChange"],["pairWiseSubjectSalt","ngModel"],["for","client-access-token-type",1,"col-sm-3","col-form-label"],["title","Specifies whether the access token is a reference token or a self contained JWT token.",1,"material-icons","align-middle"],["id","client-access-token-type","name","client-access-token-type","required","",1,"form-control","custom-select",3,"ngModel","ngModelChange"],["accessTokenType","ngModel"],["value","Jwt"],["value","Reference"],["for","client-refresh-token-usage",1,"col-sm-3","col-form-label"],["title","ReUse: the refresh token handle will stay the same when refreshing tokens. OneTime: the refresh token handle will be updated when refreshing tokens.",1,"material-icons","align-middle"],["id","client-refresh-token-usage","name","client-refresh-token-usage","required","",1,"form-control","custom-select",3,"ngModel","ngModelChange"],["refreshTokenUsage","ngModel"],["value","ReUse","title","The refresh token handle will stay the same when refreshing tokens."],["value","OneTimeOnly","title","The refresh token handle will be updated when refreshing tokens."],["for","client-refresh-token-expiration",1,"col-sm-3","col-form-label"],["title","Absolute: the refresh token will expire on a fixed point in time (specified by the AbsoluteRefreshTokenLifetime). Sliding: when refreshing the token, the lifetime of the refresh token will be renewed (by the amount specified in SlidingRefreshTokenLifetime).",1,"material-icons","align-middle"],["id","client-refresh-token-expiration","name","client-refresh-token-expiration","required","",1,"form-control","custom-select",3,"ngModel","ngModelChange"],["refreshTokenExpiration","ngModel"],["value","Sliding","title","When refreshing the token, the lifetime of the refresh token will be renewed (by the amount specified in Sliding Refresh Token Lifetime)."],["value","Absolute","title","The refresh token will expire on a fixed point in time (specified by the Absolute Refresh Token Lifetime)."],["for","client-front-channel-logout-session-required",1,"col-sm-3","col-form-label"],["title","Specifies if the user's session id should be sent to the FrontChannelLogoutUri.",1,"material-icons","align-middle"],[1,"form-check","col-form-label","custom-control","custom-checkbox"],["type","checkbox","id","client-front-channel-logout-session-required","name","client-front-channel-logout-session-required",1,"form-check-input","custom-control-input",3,"ngModel","ngModelChange"],["frontChannelLogoutSessionRequired","ngModel"],["for","client-front-channel-logout-session-required",1,"custom-control-label"],["for","client-allow-access-tokens-via-browser",1,"col-sm-3","col-form-label"],["title","Controls whether access tokens are transmitted via the browser for this client. This can prevent accidental leakage of access tokens when multiple response types are allowed.",1,"material-icons","align-middle"],["type","checkbox","id","client-allow-access-tokens-via-browser","name","client-allow-access-tokens-via-browser",1,"form-check-input","custom-control-input",3,"ngModel","ngModelChange"],["allowAccessTokensViaBrowser","ngModel"],["for","client-allow-access-tokens-via-browser",1,"custom-control-label"],["for","client-back-channel-logout-session-required",1,"col-sm-3","col-form-label"],["title","Specifies if the user's session id should be sent to the BackChannelLogoutUri.",1,"material-icons","align-middle"],["type","checkbox","id","client-back-channel-logout-session-required","name","client-back-channel-logout-session-required",1,"form-check-input","custom-control-input",3,"ngModel","ngModelChange"],["backChannelLogoutSessionRequired","ngModel"],["for","client-back-channel-logout-session-required",1,"custom-control-label"],["for","client-require-pkce",1,"col-sm-3","col-form-label"],["title","Specifies whether a proof key is required for authorization code based token requests.",1,"material-icons","align-middle"],["type","checkbox","id","client-require-pkce","name","client-require-pkce",1,"form-check-input","custom-control-input",3,"ngModel","ngModelChange"],["requirePkce","ngModel"],["for","client-require-pkce",1,"custom-control-label"],["for","client-include-user-claims-in-id-token",1,"col-sm-3","col-form-label"],["title","When requesting both an id token and access token, should the user claims always be added to the id token instead of requring the client to use the userinfo endpoint.",1,"material-icons","align-middle"],["type","checkbox","id","client-include-user-claims-in-id-token","name","client-include-user-claims-in-id-token",1,"form-check-input","custom-control-input",3,"ngModel","ngModelChange"],["alwaysIncludeUserClaimsInIdToken","ngModel"],["for","client-include-user-claims-in-id-token",1,"custom-control-label"],["for","client-include-jwt-id",1,"col-sm-3","col-form-label"],["title","Sets a value indicating whether JWT access tokens should include an identifier.",1,"material-icons","align-middle"],["type","checkbox","id","client-include-jwt-id","name","client-include-jwt-id",1,"form-check-input","custom-control-input",3,"ngModel","ngModelChange"],["includeJwtId","ngModel"],["for","client-include-jwt-id",1,"custom-control-label"],["for","client-allow-plain-text-pkce",1,"col-sm-3","col-form-label"],["title","Specifies whether a proof key can be sent using plain method.",1,"material-icons","align-middle"],["type","checkbox","id","client-allow-plain-text-pkce","name","client-allow-plain-text-pkce",1,"form-check-input","custom-control-input",3,"ngModel","ngModelChange"],["allowPlainTextPkce","ngModel"],["for","client-allow-plain-text-pkce",1,"custom-control-label"],["for","client-allow-offline-access",1,"col-sm-3","col-form-label"],["title","Sets a value indicating whether to allow offline access.",1,"material-icons","align-middle"],["type","checkbox","id","client-allow-offline-access","name","client-allow-offline-access",1,"form-check-input","custom-control-input",3,"ngModel","ngModelChange"],["allowOfflineAccess","ngModel"],["for","client-allow-offline-access",1,"custom-control-label"],["for","client-update-access-token-claims-on-refresh",1,"col-sm-3","col-form-label"],["title","Sets a value indicating whether the access token (and its claims) should be updated on a refresh token request.",1,"material-icons","align-middle"],["type","checkbox","id","client-update-access-token-claims-on-refresh","name","client-update-access-token-claims-on-refresh",1,"form-check-input","custom-control-input",3,"ngModel","ngModelChange"],["updateAccessTokenClaimsOnRefresh","ngModel"],["for","client-update-access-token-claims-on-refresh",1,"custom-control-label"]],template:function(e,t){1&e&&(a.Gc(0,Nt,2,0,"p",0),a.Gc(1,Gi,32,56,"form",1)),2&e&&(a.oc("ngIf",!t.client),a.Bb(1),a.oc("ngIf",t.client))},directives:[n.m,c.y,c.n,c.o,n.k,c.r,c.b,c.u,c.m,c.p,n.o,c.v,c.q,c.x,c.a],encapsulation:2}),Vi),Di=["actionsTemplate"],Ni=["claimsform"],Fi=["deleteAlert"];function ji(e,t){1&e&&(a.Ub(0,"p",22),a.Ic(1," Loading client claims...\n"),a.Tb())}var Ei=function(e){return{"was-validated":e}};function Hi(e,t){if(1&e){var i=a.Vb();a.Ub(0,"form",23,24),a.gc("ngSubmit",(function(){a.zc(i);var e=a.xc(1),t=a.ic();return e.form.valid&&t.update()})),a.Ub(2,"div",25),a.Ub(3,"label",26),a.Ic(4," Client Claims Prefix "),a.Tb(),a.Ub(5,"div",27),a.Ub(6,"input",28,29),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic().client.clientClaimsPrefix=e})),a.Tb(),a.Tb(),a.Tb(),a.Ub(8,"div",25),a.Ub(9,"label",30),a.Ic(10," Always Send Claims "),a.Tb(),a.Ub(11,"div",27),a.Ub(12,"div",31),a.Ub(13,"input",32,33),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic().client.alwaysSendClientClaims=e})),a.Tb(),a.Pb(15,"label",34),a.Tb(),a.Tb(),a.Tb(),a.Ub(16,"div",35),a.Ub(17,"div"),a.Ub(18,"button",16),a.Ic(19," Save Changes "),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){var n=a.xc(1),c=a.ic();a.oc("ngClass",a.sc(3,Ei,n.submitted)),a.Bb(6),a.oc("ngModel",c.client.clientClaimsPrefix),a.Bb(7),a.oc("ngModel",c.client.alwaysSendClientClaims)}}function Ki(e,t){1&e&&(a.Ub(0,"div",36),a.Ic(1," Please provider a claim. "),a.Tb())}function Ji(e,t){1&e&&(a.Ub(0,"div",36),a.Ic(1," Please provide a value. "),a.Tb())}function Wi(e,t){if(1&e){var i=a.Vb();a.Ub(0,"a",37),a.gc("click",(function(){a.zc(i);var e=t.row;return a.ic().showDeleteAlert(e.id)})),a.Ic(1," Delete "),a.Tb()}}var Qi,$i,Xi=(($i=function(){function e(t,i,n,c){_classCallCheck(this,e),this._route=t,this._clientStore=i,this.utilities=n,this._toast=c,this.columns=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.columns=[{prop:"type",name:"Type",draggable:!1,canAutoResize:!0,sortable:!0,resizeable:!1},{prop:"value",name:"Value",draggable:!1,canAutoResize:!0,sortable:!0,resizeable:!1},{prop:"id",name:"Actions",draggable:!1,canAutoResize:!0,sortable:!1,resizeable:!1,cellTemplate:this._actionsTemplate,cellClass:"d-flex align-items-center"}],this._getDataSubscription=this._clientStore.getClient(this._route.parent.parent.snapshot.params.id).subscribe((function(t){e.client=t,e.rows=e.client.claims}))}},{key:"ngOnDestroy",value:function(){this._getDataSubscription&&this._getDataSubscription.unsubscribe(),this._updateClientSubscription&&this._updateClientSubscription.unsubscribe(),this._addClaimSubscription&&this._addClaimSubscription.unsubscribe(),this._deleteClaimSubscription&&this._deleteClaimSubscription.unsubscribe()}},{key:"addClaim",value:function(){var e=this;this._addClaimSubscription=this._clientStore.addClaim(this.client.clientId,{type:this.selectedClaimName,value:this.selectedClaimValue}).subscribe((function(t){e._toast.showSuccess("Claim '".concat(e.selectedClaimName,"' was successfully added to the client.")),e._form.resetForm({"claim-name":"","claim-value":""}),e.rows=_toConsumableArray(e.client.claims)}))}},{key:"update",value:function(){var e=this;this._updateClientSubscription=this._clientStore.updateClient(this.client).subscribe((function(t){e._toast.showSuccess("Client '".concat(e.client.clientName,"' was updated successfully."))}))}},{key:"delete",value:function(){var e=this;this._deleteClaimSubscription=this._clientStore.deleteClaim(this.client.clientId,this.claimToDelete).subscribe((function(t){e._toast.showSuccess("Claim '".concat(e.claimToDelete.type,"' was successfully deleted from the client.")),e.rows=_toConsumableArray(e.client.claims)}))}},{key:"showDeleteAlert",value:function(e){var t=this;this.claimToDelete=this.rows.find((function(t){return t.id===e})),setTimeout((function(){return t._deleteAlert.fire()}),0)}}]),e}()).\u0275fac=function(e){return new(e||$i)(a.Ob(s.a),a.Ob(Ee),a.Ob(I.a),a.Ob(Y.a))},$i.\u0275cmp=a.Ib({type:$i,selectors:[["app-client-claims"]],viewQuery:function(e,t){var i;1&e&&(a.Ec(Di,!0),a.Nc(Ni,!0),a.Nc(Fi,!0)),2&e&&(a.wc(i=a.hc())&&(t._actionsTemplate=i.first),a.wc(i=a.hc())&&(t._form=i.first),a.wc(i=a.hc())&&(t._deleteAlert=i.first))},decls:29,vars:20,consts:[["title","Delete?","type","warning",3,"text","showCancelButton","confirm"],["deleteAlert",""],["class","mt-3",4,"ngIf"],["class","needs-validation mt-3","novalidate","",3,"ngClass","ngSubmit",4,"ngIf"],["novalidate","",1,"needs-validation",3,"ngClass","ngSubmit"],["claimsform","ngForm"],[1,"form-row"],[1,"col"],["for","claim-name",1,"sr-only"],["id","claim-name","name","claim-name","required","",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["claim","ngModel"],["class","form-control-feedback text-danger",4,"ngIf"],["for","claim-value",1,"sr-only"],["id","claim-value","name","claim-value","type","text","required","",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["value","ngModel"],[1,"col-md-1","text-right"],["type","submit",1,"btn","btn-primary","waves-effect","waves-light","m-r-5"],[1,"row","mt-3"],[1,"col-12"],[3,"clientSide","rowsPerPage","canFilter","columns","rows","defaultSortField","defaultSortDirection"],["clientClaimsList",""],["actionsTemplate",""],[1,"mt-3"],["novalidate","",1,"needs-validation","mt-3",3,"ngClass","ngSubmit"],["form","ngForm"],[1,"form-group","row"],["for","client-claims-prefix",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["type","text","id","client-claims-prefix","name","client-claims-prefix",1,"form-control",3,"ngModel","ngModelChange"],["clientClaimsPrefix","ngModel"],["for","client-always-send-client-claims",1,"col-sm-2","col-form-label"],[1,"form-check","col-form-label","custom-control","custom-checkbox"],["type","checkbox","id","client-always-send-client-claims","name","client-always-send-client-claims",1,"form-check-input","custom-control-input",3,"ngModel","ngModelChange"],["alwaysSendClientClaims","ngModel"],["for","client-always-send-client-claims",1,"custom-control-label"],[1,"form-group"],[1,"form-control-feedback","text-danger"],["href","javascript:void(0)","role","button",1,"btn","btn-danger","waves-effect","m-r-5",3,"click"]],template:function(e,t){if(1&e){var i=a.Vb();a.Ub(0,"swal",0,1),a.gc("confirm",(function(){return t.delete()})),a.Tb(),a.Gc(2,ji,2,0,"p",2),a.Gc(3,Hi,20,5,"form",3),a.Pb(4,"hr"),a.Ub(5,"form",4,5),a.gc("ngSubmit",(function(){return a.zc(i),a.xc(6).form.valid&&t.addClaim()})),a.Ub(7,"div",6),a.Ub(8,"div",7),a.Ub(9,"label",8),a.Ic(10," Claim "),a.Tb(),a.Ub(11,"input",9,10),a.gc("ngModelChange",(function(e){return t.selectedClaimName=e})),a.Tb(),a.Gc(13,Ki,2,0,"div",11),a.Tb(),a.Ub(14,"div",7),a.Ub(15,"label",12),a.Ic(16," Value "),a.Tb(),a.Ub(17,"input",13,14),a.gc("ngModelChange",(function(e){return t.selectedClaimValue=e})),a.Tb(),a.Gc(19,Ji,2,0,"div",11),a.Tb(),a.Ub(20,"div",15),a.Ub(21,"button",16),a.Ic(22," Add "),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(23,"div",17),a.Ub(24,"div",18),a.Pb(25,"app-list-view",19,20),a.Tb(),a.Tb(),a.Gc(27,Wi,2,0,"ng-template",null,21,a.Hc)}if(2&e){var n=a.xc(6),c=a.xc(12),o=a.xc(18);a.oc("text","Client claim '"+(null==t.claimToDelete?null:t.claimToDelete.type)+"' will be deleted permanently. This action cannot be reversed.")("showCancelButton",!0),a.Bb(2),a.oc("ngIf",!t.client),a.Bb(1),a.oc("ngIf",t.client),a.Bb(2),a.oc("ngClass",a.sc(18,Ei,n.submitted)),a.Bb(6),a.oc("ngModel",t.selectedClaimName)("placeholder","Please provide a claim..."),a.Bb(2),a.oc("ngIf",n.submitted&&c.invalid),a.Bb(4),a.oc("ngModel",t.selectedClaimValue)("placeholder","Please provide a value..."),a.Bb(2),a.oc("ngIf",n.submitted&&o.invalid),a.Bb(6),a.oc("clientSide",!0)("rowsPerPage",25)("canFilter",!1)("columns",t.columns)("rows",t.rows)("defaultSortField","type")("defaultSortDirection","Asc")}},directives:[r.a,n.m,c.y,c.n,c.o,n.k,c.b,c.u,c.m,c.p,d.a,c.a],encapsulation:2}),$i),Yi=((Qi=function(){function e(){_classCallCheck(this,e),this._stateMatrix=[{from:"authorization_code",to:"client_credentials"}],this._stateMatrix.push({from:"authorization_code",to:"password"}),this._stateMatrix.push({from:"authorization_code",to:"custom"}),this._stateMatrix.push({from:"client_credentials",to:"authorization_code"}),this._stateMatrix.push({from:"client_credentials",to:"implicit"}),this._stateMatrix.push({from:"client_credentials",to:"password"}),this._stateMatrix.push({from:"client_credentials",to:"hybrid"}),this._stateMatrix.push({from:"client_credentials",to:"custom"}),this._stateMatrix.push({from:"client_credentials",to:"urn:ietf:params:oauth:grant-type:device_code"}),this._stateMatrix.push({from:"hybrid",to:"client_credentials"}),this._stateMatrix.push({from:"hybrid",to:"password"}),this._stateMatrix.push({from:"hybrid",to:"custom"}),this._stateMatrix.push({from:"password",to:"implicit"}),this._stateMatrix.push({from:"password",to:"authorization_code"}),this._stateMatrix.push({from:"password",to:"hybrid"}),this._stateMatrix.push({from:"password",to:"client_credentials"}),this._stateMatrix.push({from:"password",to:"custom"}),this._stateMatrix.push({from:"implicit",to:"client_credentials"}),this._stateMatrix.push({from:"implicit",to:"password"}),this._stateMatrix.push({from:"implicit",to:"custom"}),this._stateMatrix.push({from:"urn:ietf:params:oauth:grant-type:device_code",to:"client_credentials"}),this._stateMatrix.push({from:"urn:ietf:params:oauth:grant-type:device_code",to:"custom"})}return _createClass(e,[{key:"canGoTo",value:function(e,t){return this._stateMatrix.findIndex((function(i){return i.from===e&&i.to===t}))>-1}}]),e}()).\u0275fac=function(e){return new(e||Qi)},Qi.\u0275prov=a.Kb({token:Qi,factory:Qi.\u0275fac}),Qi),Zi=i("Spom"),en=i("IheW"),tn=["actionsTemplate"],nn=["grantTypesform"],cn=["deleteAlert"];function on(e,t){1&e&&(a.Ub(0,"p",9),a.Ic(1," Loading client grant types...\n"),a.Tb())}function rn(e,t){if(1&e&&(a.Ub(0,"option",24),a.Ic(1),a.Tb()),2&e){var i=t.$implicit,n=a.ic(2);a.oc("value",i)("disabled",!n.canAddGrantType(i)),a.Bb(1),a.Kc(" ",i," ")}}function ln(e,t){1&e&&(a.Ub(0,"div",25),a.Ic(1," Please select a value. "),a.Tb())}function sn(e,t){1&e&&(a.Ub(0,"div",25),a.Ic(1," Please provide a value. "),a.Tb())}function an(e,t){if(1&e){var i=a.Vb();a.Ub(0,"div",13),a.Ub(1,"label",26),a.Ic(2," Value "),a.Tb(),a.Ub(3,"input",27,28),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic(2).customGrantName=e})),a.Tb(),a.Gc(5,sn,2,0,"div",20),a.Tb()}if(2&e){var n=a.xc(4);a.ic();var c=a.xc(1),o=a.ic();a.Bb(3),a.oc("ngModel",o.customGrantName)("placeholder","Please provide a value..."),a.Bb(2),a.oc("ngIf",c.submitted&&n.invalid)}}var un=function(e){return{"was-validated":e}};function dn(e,t){if(1&e){var i=a.Vb();a.Ub(0,"form",10,11),a.gc("ngSubmit",(function(){a.zc(i);var e=a.xc(1),t=a.ic();return e.form.valid&&t.addGrantType()})),a.Ub(2,"div",12),a.Ub(3,"div",13),a.Ub(4,"label",14),a.Ic(5," Grant Type "),a.Tb(),a.Ub(6,"select",15,16),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic().selectedGrantType=e})),a.Ub(8,"option",17),a.Ic(9," Please select a suitable grant type "),a.Tb(),a.Gc(10,rn,2,3,"option",18),a.Ub(11,"option",19),a.Ic(12,"custom"),a.Tb(),a.Tb(),a.Gc(13,ln,2,0,"div",20),a.Tb(),a.Gc(14,an,6,3,"div",21),a.Ub(15,"div",22),a.Ub(16,"button",23),a.Ic(17," Add "),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){var n=a.xc(1),c=a.xc(7),o=a.ic();a.oc("ngClass",a.sc(5,un,n.submitted)),a.Bb(6),a.oc("ngModel",o.selectedGrantType),a.Bb(4),a.oc("ngForOf",o.availableGrantTypes),a.Bb(3),a.oc("ngIf",n.submitted&&c.invalid),a.Bb(1),a.oc("ngIf","custom"===o.selectedGrantType)}}function bn(e,t){if(1&e){var i=a.Vb();a.Ub(0,"button",29),a.gc("click",(function(){a.zc(i);var e=t.value;return a.ic().showDeleteAlert(e)})),a.Ic(1,"Delete"),a.Tb()}}var fn,mn=((fn=function(){function e(t,i,n,c,o){_classCallCheck(this,e),this.clientStore=t,this.grantTypeStateMatrixService=i,this.httpClient=n,this.route=c,this.toast=o,this.columns=[],this.selectedGrantType=""}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.columns=[{prop:"type",name:"Type",draggable:!1,canAutoResize:!0,sortable:!0,resizeable:!1},{prop:"type",name:"Actions",draggable:!1,canAutoResize:!0,sortable:!1,resizeable:!1,cellTemplate:this.actionsTemplate,cellClass:"d-flex align-items-center"}];var t=this.clientStore.getClient(this.route.parent.parent.snapshot.params.id),i=this.httpClient.get(Zi.a().auth_settings.authority+"/.well-known/openid-configuration");this.getDataSubscription=Object(Ne.a)([t,i]).pipe(Object(Fe.a)((function(e){return{client:e[0],discoveryResponse:e[1]}}))).subscribe((function(t){e.client=t.client,e.rows=e.client.grantTypes.map((function(e){return{type:e}}));var i=t.discoveryResponse.grant_types_supported;i.push("hybrid"),i=i.sort((function(e,t){return e>t?1:-1})),e.availableGrantTypes=i}))}},{key:"addGrantType",value:function(){var e=this,t="custom"===this.selectedGrantType?this.customGrantName:this.selectedGrantType;this.clientStore.addGrantType(this.client.clientId,t).subscribe((function(i){e.toast.showSuccess("Grant type '".concat(t,"' was successfully added to client '").concat(e.client.clientName,"'.")),e.rows.push({type:t}),e.form.resetForm({"grant-type":""}),e.rows=_toConsumableArray(e.client.grantTypes.map((function(e){return{type:e}})))}))}},{key:"delete",value:function(){var e=this;this.clientStore.deleteGrantType(this.client.clientId,this.grantTypeToDelete.type).subscribe((function(t){e.toast.showSuccess("Grant type '".concat(e.selectedGrantType,"' was successfully removed from the client."));var i=e.rows.findIndex((function(t){return t.type===e.grantTypeToDelete.type}));i>-1&&e.rows.splice(i,1),e.rows=_toConsumableArray(e.client.grantTypes.map((function(e){return{type:e}})))}))}},{key:"canAddGrantType",value:function(e){if(this.client.grantTypes.indexOf(e)>-1)return!1;var t,i=!0,n=_createForOfIteratorHelper(this.client.grantTypes);try{for(n.s();!(t=n.n()).done;){var c=t.value;if(!this.grantTypeStateMatrixService.canGoTo(c,e)){i=!1;break}}}catch(o){n.e(o)}finally{n.f()}return i}},{key:"showDeleteAlert",value:function(e){var t=this;this.grantTypeToDelete=this.rows.find((function(t){return t.type===e})),setTimeout((function(){return t.deleteAlert.fire()}),0)}},{key:"ngOnDestroy",value:function(){this.getDataSubscription&&this.getDataSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||fn)(a.Ob(Ee),a.Ob(Yi),a.Ob(en.b),a.Ob(s.a),a.Ob(Y.a))},fn.\u0275cmp=a.Ib({type:fn,selectors:[["app-client-grant-types"]],viewQuery:function(e,t){var i;1&e&&(a.Ec(tn,!0),a.Nc(nn,!0),a.Nc(cn,!0)),2&e&&(a.wc(i=a.hc())&&(t.actionsTemplate=i.first),a.wc(i=a.hc())&&(t.form=i.first),a.wc(i=a.hc())&&(t.deleteAlert=i.first))},features:[a.Ab([Yi])],decls:10,vars:11,consts:[["title","Delete?","type","warning",3,"text","showCancelButton","confirm"],["deleteAlert",""],["class","mt-3",4,"ngIf"],["class","needs-validation mt-3","novalidate","",3,"ngClass","ngSubmit",4,"ngIf"],[1,"row","mt-3"],[1,"col-12"],[3,"clientSide","rowsPerPage","canFilter","columns","rows","defaultSortField","defaultSortDirection"],["grantTypesList",""],["actionsTemplate",""],[1,"mt-3"],["novalidate","",1,"needs-validation","mt-3",3,"ngClass","ngSubmit"],["grantTypesform","ngForm"],[1,"form-row"],[1,"col"],["for","grant-type",1,"sr-only"],["id","grant-type","name","grant-type","required","",1,"form-control","custom-select",3,"ngModel","ngModelChange"],["grantType","ngModel"],["value","","disabled",""],[3,"value","disabled",4,"ngFor","ngForOf"],["value","custom"],["class","form-control-feedback text-danger",4,"ngIf"],["class","col",4,"ngIf"],[1,"col-md-1","text-right"],["type","submit",1,"btn","btn-primary","waves-effect","waves-light","m-r-5"],[3,"value","disabled"],[1,"form-control-feedback","text-danger"],["for","claim-value",1,"sr-only"],["id","claim-value","name","claim-value","type","text","required","",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["value","ngModel"],[1,"btn","btn-danger",3,"click"]],template:function(e,t){1&e&&(a.Ub(0,"swal",0,1),a.gc("confirm",(function(){return t.delete()})),a.Tb(),a.Gc(2,on,2,0,"p",2),a.Gc(3,dn,18,7,"form",3),a.Ub(4,"div",4),a.Ub(5,"div",5),a.Pb(6,"app-list-view",6,7),a.Tb(),a.Tb(),a.Gc(8,bn,2,0,"ng-template",null,8,a.Hc)),2&e&&(a.oc("text","Client grant type '"+(null==t.grantTypeToDelete?null:t.grantTypeToDelete.type)+"' will be deleted permanently. This action cannot be reversed.")("showCancelButton",!0),a.Bb(2),a.oc("ngIf",!t.client),a.Bb(1),a.oc("ngIf",t.client),a.Bb(3),a.oc("clientSide",!0)("rowsPerPage",10)("canFilter",!1)("columns",t.columns)("rows",t.rows)("defaultSortField","type")("defaultSortDirection","Asc"))},directives:[r.a,n.m,d.a,c.y,c.n,c.o,n.k,c.v,c.u,c.m,c.p,c.q,c.x,n.l,c.b],encapsulation:2}),fn),pn=["clientSecretsList"],gn=["actionsTemplate"],hn=["optionalTemplate"],vn=["form"],Tn=["deleteAlert"];function yn(e,t){1&e&&(a.Ub(0,"div",33),a.Ic(1," Field 'Type' is required. "),a.Tb())}function Un(e,t){if(1&e){var i=a.Vb();a.Ub(0,"span",34),a.gc("click",(function(){return a.zc(i),a.ic(2).generateValue()})),a.Ub(1,"span",35),a.Ub(2,"i",36),a.Ic(3,"add"),a.Tb(),a.Tb(),a.Tb()}}function kn(e,t){1&e&&(a.Ub(0,"div",33),a.Ic(1," Field 'Value' is required. "),a.Tb())}var Cn=function(e){return{"was-validated":e}},In=function(e){return{invalid:e}};function wn(e,t){if(1&e){var i=a.Vb();a.Ub(0,"form",9,10),a.gc("ngSubmit",(function(){a.zc(i);var e=a.xc(1),t=a.ic();return e.form.valid&&t.update()})),a.Ub(2,"div",11),a.Ub(3,"label",12),a.Ic(4," Type (*) "),a.Tb(),a.Ub(5,"div",13),a.Ub(6,"select",14,15),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic().apiSecret.type=e})),a.Ub(8,"option",16),a.Ic(9,"Shared Secret"),a.Tb(),a.Ub(10,"option",17),a.Ic(11,"X509 Thumbprint"),a.Tb(),a.Tb(),a.Gc(12,yn,2,0,"div",18),a.Tb(),a.Tb(),a.Ub(13,"div",11),a.Ub(14,"label",19),a.Ic(15," Value (*) "),a.Tb(),a.Ub(16,"div",13),a.Ub(17,"div",20),a.Gc(18,Un,4,0,"span",21),a.Ub(19,"input",22,23),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic().apiSecret.value=e})),a.Tb(),a.Tb(),a.Ub(21,"div",24),a.Ic(22,"* You will not be able to access the value after adding it."),a.Tb(),a.Gc(23,kn,2,0,"div",18),a.Tb(),a.Tb(),a.Ub(24,"div",11),a.Ub(25,"label",25),a.Ic(26," Expiration Date "),a.Tb(),a.Ub(27,"div",13),a.Ub(28,"input",26,27),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic().apiSecret.expiration=e}))("focus",(function(){return a.zc(i),a.xc(29).toggle()})),a.Tb(),a.Tb(),a.Tb(),a.Ub(30,"div",11),a.Ub(31,"label",28),a.Ic(32," Description "),a.Tb(),a.Ub(33,"div",13),a.Ub(34,"textarea",29,30),a.gc("ngModelChange",(function(e){return a.zc(i),a.ic().apiSecret.description=e})),a.Ic(36,"        "),a.Tb(),a.Tb(),a.Tb(),a.Ub(37,"div",31),a.Ub(38,"div"),a.Ub(39,"button",32),a.Ic(40," Add "),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){var n=a.xc(1),c=a.xc(7),o=a.xc(20),r=a.ic();a.oc("ngClass",a.sc(10,Cn,n.submitted)),a.Bb(6),a.oc("ngClass",a.sc(12,In,n.submitted&&c.invalid))("ngModel",r.apiSecret.type),a.Bb(6),a.oc("ngIf",n.submitted&&c.invalid),a.Bb(6),a.oc("ngIf","SharedSecret"===r.apiSecret.type),a.Bb(1),a.oc("ngClass",a.sc(14,In,n.submitted&&o.invalid))("ngModel",r.apiSecret.value),a.Bb(4),a.oc("ngIf",n.submitted&&o.invalid),a.Bb(5),a.oc("ngModel",r.apiSecret.expiration),a.Bb(6),a.oc("ngModel",r.apiSecret.description)}}function _n(e,t){if(1&e){var i=a.Vb();a.Ub(0,"button",37),a.gc("click",(function(){a.zc(i);var e=t.value;return a.ic().showDeleteAlert(e)})),a.Ic(1," Remove "),a.Tb()}}function Sn(e,t){if(1&e&&(a.Ub(0,"span"),a.Ic(1),a.Tb()),2&e){var i=a.ic().value;a.Bb(1),a.Jc(i)}}function xn(e,t){1&e&&(a.Ub(0,"span"),a.Ic(1," - "),a.Tb())}function Rn(e,t){if(1&e&&(a.Gc(0,Sn,2,1,"span",38),a.Gc(1,xn,2,0,"span",38)),2&e){var i=t.value;a.oc("ngIf",i),a.Bb(1),a.oc("ngIf",!i)}}var Ln,Mn,An,Bn=[{path:"",component:T},{path:"add",component:De},{path:":id",component:Ze,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:ot},{path:"urls",component:Tt},{path:"secrets",component:(Ln=function(){function e(t,i,n,c){_classCallCheck(this,e),this._utilities=t,this._route=i,this._clientStore=n,this._toast=c,this.columns=[],this.rows=[],this.apiSecret=new u.k({type:u.p.SharedSecret})}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.columns=[{prop:"type",name:"Type",draggable:!1,canAutoResize:!0,sortable:!1,resizeable:!1},{prop:"valueText",name:"Value",draggable:!1,canAutoResize:!0,sortable:!1,resizeable:!1},{prop:"expiration",name:"Expiration",draggable:!1,canAutoResize:!0,sortable:!1,resizeable:!1,cellTemplate:this._clientSecretsList.dateTimeTemplate,cellClass:"d-flex align-items-center"},{prop:"description",name:"Description",draggable:!1,canAutoResize:!0,sortable:!1,resizeable:!1,cellTemplate:this._optionalTemplate,cellClass:"d-flex align-items-center"},{prop:"id",name:"Actions",draggable:!1,canAutoResize:!0,sortable:!1,resizeable:!1,cellTemplate:this._actionsTemplate,cellClass:"d-flex align-items-center"}],this._clientId=this._route.parent.snapshot.params.id,this._getDataSubscription=this._clientStore.getClient(this._clientId).subscribe((function(t){e.client=t,e.client.secrets&&e.client.secrets.forEach((function(e){e.valueText="Value is hidden"})),e.rows=t.secrets}))}},{key:"ngOnDestroy",value:function(){this._getDataSubscription&&this._getDataSubscription.unsubscribe()}},{key:"generateValue",value:function(){this.apiSecret.value=this._utilities.newGuid()}},{key:"update",value:function(){var e=this;if(this.apiSecret.type&&this.apiSecret.value){var t=this.apiSecret.expiration;this.apiSecret.expiration=t?new Date(t.year,t.month-1,t.day):void 0,this._clientStore.addSecret(this._clientId,this.apiSecret).subscribe((function(t){e.rows=_toConsumableArray(e.client.secrets),e._form.resetForm({"client-secret-type":u.p.SharedSecret,"client-secret-value":"","expiration-date":"",description:""}),e._toast.showSuccess("Secret was successfully added to client '".concat(e.client.clientName,"'."))}))}}},{key:"showDeleteAlert",value:function(e){var t=this;this.secretToDelete=this.rows.find((function(t){return t.id===e})),setTimeout((function(){return t._deleteAlert.fire()}),0)}},{key:"delete",value:function(){var e=this;this._clientStore.deleteClientSecret(this._clientId,this.secretToDelete).subscribe((function(t){e.rows=_toConsumableArray(e.client.secrets),e._toast.showSuccess("Secret was successfully removed from client '".concat(e.client.clientName,"'."))}))}}]),e}(),Ln.\u0275fac=function(e){return new(e||Ln)(a.Ob(I.a),a.Ob(s.a),a.Ob(Ee),a.Ob(Y.a))},Ln.\u0275cmp=a.Ib({type:Ln,selectors:[["app-client-secrets"]],viewQuery:function(e,t){var i;1&e&&(a.Ec(pn,!0),a.Ec(gn,!0),a.Ec(hn,!0),a.Nc(vn,!0),a.Nc(Tn,!0)),2&e&&(a.wc(i=a.hc())&&(t._clientSecretsList=i.first),a.wc(i=a.hc())&&(t._actionsTemplate=i.first),a.wc(i=a.hc())&&(t._optionalTemplate=i.first),a.wc(i=a.hc())&&(t._form=i.first),a.wc(i=a.hc())&&(t._deleteAlert=i.first))},decls:13,vars:9,consts:[["title","Delete?","type","warning",3,"text","showCancelButton","confirm"],["deleteAlert",""],["class","needs-validation","novalidate","",3,"ngClass","ngSubmit",4,"ngIf"],[1,"mt-3","mb-3"],[1,"col-12"],[3,"clientSide","rowsPerPage","canFilter","columns","rows","defaultSortDirection"],["clientSecretsList",""],["actionsTemplate",""],["optionalTemplate",""],["novalidate","",1,"needs-validation",3,"ngClass","ngSubmit"],["form","ngForm"],[1,"form-group","row"],["for","client-secret-type",1,"col-sm-2","col-form-label"],[1,"col-sm-10"],["id","client-secret-type","name","client-secret-type","required","",1,"form-control","custom-select",3,"ngClass","ngModel","ngModelChange"],["secret","ngModel"],["value","SharedSecret"],["value","X509Thumbprint"],["class","form-control-feedback text-danger",4,"ngIf"],["for","client-secret-value",1,"col-sm-2","col-form-label"],[1,"input-group"],["class","input-group-prepend cursor-pointer","title","Generate a random value.",3,"click",4,"ngIf"],["type","text","id","client-secret-value","name","client-secret-value","required","","maxlength","4000",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["value","ngModel"],[1,"text-muted"],["for","expiration-date",1,"col-sm-2","col-form-label"],["type","text","id","expiration-date","name","expiration-date","placeholder","mm-dd-yyyy","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange","focus"],["datePicker","ngbDatepicker"],["for","description",1,"col-sm-2","col-form-label"],["rows","3","type","text","id","description","name","description","maxlength","2000",1,"form-control",3,"ngModel","ngModelChange"],["description","ngModel"],[1,"form-group"],["type","submit",1,"btn","btn-primary","m-r-5"],[1,"form-control-feedback","text-danger"],["title","Generate a random value.",1,"input-group-prepend","cursor-pointer",3,"click"],[1,"input-group-text"],[1,"material-icons","align-middle","font-12"],["role","button",1,"btn","btn-danger",3,"click"],[4,"ngIf"]],template:function(e,t){1&e&&(a.Ub(0,"swal",0,1),a.gc("confirm",(function(){return t.delete()})),a.Tb(),a.Gc(2,wn,41,16,"form",2),a.Pb(3,"hr"),a.Ub(4,"div",3),a.Ub(5,"div",4),a.Pb(6,"app-list-view",5,6),a.Tb(),a.Gc(8,_n,2,0,"ng-template",null,7,a.Hc),a.Gc(10,Rn,2,2,"ng-template",null,8,a.Hc),a.Tb(),a.Pb(12,"hr")),2&e&&(a.oc("text","Selected secret will be deleted permanently. This action cannot be reversed.")("showCancelButton",!0),a.Bb(2),a.oc("ngIf",t.client),a.Bb(4),a.oc("clientSide",!0)("rowsPerPage",10)("canFilter",!1)("columns",t.columns)("rows",t.rows)("defaultSortDirection","Asc"))},directives:[r.a,n.m,d.a,c.y,c.n,c.o,n.k,c.v,c.u,c.m,c.p,c.q,c.x,c.b,c.j,o.h],encapsulation:2}),Ln)},{path:"resources",component:Lt,children:[{path:"",redirectTo:"api",pathMatch:"full"},{path:"api",component:It},{path:"identity",component:Pt}]},{path:"advanced",component:Dt,children:[{path:"",redirectTo:"tokens",pathMatch:"full"},{path:"tokens",component:qi},{path:"claims",component:Xi},{path:"grant-types",component:mn}]}]}],On=((An=function e(){_classCallCheck(this,e)}).\u0275mod=a.Mb({type:An}),An.\u0275inj=a.Lb({factory:function(e){return new(e||An)},imports:[[s.h.forChild(Bn)],s.h]}),An),zn=((Mn=function e(){_classCallCheck(this,e)}).\u0275mod=a.Mb({type:Mn}),Mn.\u0275inj=a.Lb({factory:function(e){return new(e||Mn)},imports:[[n.c,c.t,c.i,On,o.f,l.a,r.c,o.c]]}),Mn)}}]);